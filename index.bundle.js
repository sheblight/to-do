(()=>{"use strict";var n={426:(n,e,t)=>{t.d(e,{Z:()=>s});var a=t(537),o=t.n(a),r=t(645),i=t.n(r)()(o());i.push([n.id,":root {\n    --body-color: #526368;\n    --sub-color: #1e2f39;\n    --light-sub-color: #405258;\n    --accent-color: #968a7d;\n    --dark-accent-color: #806742;\n    --text-color: #e4e1cf;\n}\n\n* {\n    margin: 0;\n    padding: 0;\n}\n\n.hidden {\n    display: none !important;\n}\n\nbody {\n    display: grid;\n    grid-template-columns: 15rem 1fr;\n    grid-template-rows: 3.5rem calc(100vh - 3.5rem);\n    background-color: var(--body-color);\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\nli {\n    display: flex;\n    list-style: none;\n}\n\n/* preceding icon classes */\n.icon {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n}\n\nsvg {\n    width: 2em;\n    height: 2em;\n}\n\n.tag svg {\n    width: 1em;\n    height: 1em;\n}\n\n/* header */\nheader {\n    grid-area: 1/1/1/3;\n    background-color: var(--sub-color);\n}\n\n/* side menu*/\nnav {\n    display: grid;\n    grid-template-columns: auto;\n    grid-template-rows: 2rem auto 3rem 3rem 1fr 5rem;\n    padding-left: 2rem;\n    background-color: var(--light-sub-color);\n}\n\nnav .icon {\n    border: none;\n    background-color: transparent;\n    font-size: 1rem;\n    font-weight: bold;\n    color: var(--text-color);\n    fill: var(--text-color);\n}\n\n.menu-time-options li {\n    padding: 0;\n}\n\nnav input {\n    padding: 0.5rem;\n    width: 60%;  \n    color:var(--text-color)\n}\n\nnav .tag p {\n    width: 60%;\n}\n\n.tag-list li {\n    padding: 0.5em 0 0.5em 2em;\n}\n\n/* main content */\nmain {\n    padding: 2rem 4rem;\n    overflow: auto;\n}\n\ninput {\n    border: none;\n    background-color: transparent;\n}\n\n.task-list-head {\n    display:flex;\n    align-items: center;\n}\n\n.divider {\n    border: 2px solid var(--accent-color);\n    width: 100%;\n    height: 0;\n    margin-left: 1rem;\n}\n\n.task-creation {\n    display: grid;\n    grid-template-columns: 10rem 8rem 7rem auto 6rem 6rem;\n    grid-template-rows: 3rem 3rem 3rem;\n    border: 3px solid var(--sub-color);\n    border-radius: 6px;\n    background-color: rgb(11 22 33 / 44%);\n    \n}\n\n.task-creation input::placeholder {\n    color: var(--text-color);\n}\n\n.task-creation select, .task-creation input[type=date], .task-creation .tag-group {\n    margin: 6px;\n    padding: 0;\n    cursor: pointer;\n    border: 2px solid var(--text-color);\n    border-radius: 6px;\n    background-color: rgb(92 105 107 / 51%);\n    color: var(--text-color);\n}\n\n.task-creation p, .task-creation li {\n    padding: 0.5rem;\n    font-size: 0.9rem;\n}\n\n.task-creation li {\n    background-color: #1e2f39;\n}\n\n.task-creation input[type=checkbox] {\n    margin-right: 0.5rem;\n}\n\n.task-creation option {\n    background-color: var(--sub-color);\n    color: var(--text-color);\n}\n\n.task-creation button {\n    margin: 6px;\n    border: none;\n    border-radius: 6px;\n}\n\n.task-entry {\n    display: grid;\n    grid-template-columns: 2rem auto;\n    grid-template-rows: auto;\n    color: var(--text-color);\n}\n\n.task-entry button {\n    grid-area: 1/1/3/1;\n    border: none;\n    fill: var(--sub-color);\n    background-color: transparent;\n}\n\n.tag-group {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n    padding: 1rem 0 0 0;\n}\n\nmain .icon {\n    border: none;\n    background-color: transparent;\n    font-size: 1rem;\n    font-weight: bold;\n    color: var(--text-color);\n    fill: var(--text-color);\n}\n\n\n/* task modal */\n.task-modal-wrapper, .tag-modal-wrapper {\n    position:fixed;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0,0,0,0.3);\n}\n\n.task-modal, .tag-modal {\n    position: inherit;\n    --modal-width: 300px;\n    --modal-height: 300px;\n    width: var(--modal-width);\n    height: var(--modal-height);\n    bottom: calc(50% - var(--modal-height)/2);\n    right: calc(50% - var(--modal-width)/2);\n    background-color: var(--accent-color);\n    padding: 3rem;\n}\n\n.close {\n    position: absolute;\n    right: 0.5rem;\n    top: 0.5rem;\n    background-color: transparent;\n    border: none;\n    padding: 0;\n}\n\n.task-modal input, .task-modal textarea {\n    background-color: transparent;\n}\n\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,qBAAqB;IACrB,oBAAoB;IACpB,0BAA0B;IAC1B,uBAAuB;IACvB,4BAA4B;IAC5B,qBAAqB;AACzB;;AAEA;IACI,SAAS;IACT,UAAU;AACd;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,aAAa;IACb,gCAAgC;IAChC,+CAA+C;IAC/C,mCAAmC;IACnC,4DAA4D;AAChE;;AAEA;IACI,aAAa;IACb,gBAAgB;AACpB;;AAEA,2BAA2B;AAC3B;IACI,aAAa;IACb,mBAAmB;IACnB,WAAW;AACf;;AAEA;IACI,UAAU;IACV,WAAW;AACf;;AAEA;IACI,UAAU;IACV,WAAW;AACf;;AAEA,WAAW;AACX;IACI,kBAAkB;IAClB,kCAAkC;AACtC;;AAEA,aAAa;AACb;IACI,aAAa;IACb,2BAA2B;IAC3B,gDAAgD;IAChD,kBAAkB;IAClB,wCAAwC;AAC5C;;AAEA;IACI,YAAY;IACZ,6BAA6B;IAC7B,eAAe;IACf,iBAAiB;IACjB,wBAAwB;IACxB,uBAAuB;AAC3B;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,eAAe;IACf,UAAU;IACV;AACJ;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,0BAA0B;AAC9B;;AAEA,iBAAiB;AACjB;IACI,kBAAkB;IAClB,cAAc;AAClB;;AAEA;IACI,YAAY;IACZ,6BAA6B;AACjC;;AAEA;IACI,YAAY;IACZ,mBAAmB;AACvB;;AAEA;IACI,qCAAqC;IACrC,WAAW;IACX,SAAS;IACT,iBAAiB;AACrB;;AAEA;IACI,aAAa;IACb,qDAAqD;IACrD,kCAAkC;IAClC,kCAAkC;IAClC,kBAAkB;IAClB,qCAAqC;;AAEzC;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,WAAW;IACX,UAAU;IACV,eAAe;IACf,mCAAmC;IACnC,kBAAkB;IAClB,uCAAuC;IACvC,wBAAwB;AAC5B;;AAEA;IACI,eAAe;IACf,iBAAiB;AACrB;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,kCAAkC;IAClC,wBAAwB;AAC5B;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,gCAAgC;IAChC,wBAAwB;IACxB,wBAAwB;AAC5B;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,sBAAsB;IACtB,6BAA6B;AACjC;;AAEA;IACI,aAAa;IACb,eAAe;IACf,WAAW;IACX,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,6BAA6B;IAC7B,eAAe;IACf,iBAAiB;IACjB,wBAAwB;IACxB,uBAAuB;AAC3B;;;AAGA,eAAe;AACf;IACI,cAAc;IACd,YAAY;IACZ,aAAa;IACb,iCAAiC;AACrC;;AAEA;IACI,iBAAiB;IACjB,oBAAoB;IACpB,qBAAqB;IACrB,yBAAyB;IACzB,2BAA2B;IAC3B,yCAAyC;IACzC,uCAAuC;IACvC,qCAAqC;IACrC,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,aAAa;IACb,WAAW;IACX,6BAA6B;IAC7B,YAAY;IACZ,UAAU;AACd;;AAEA;IACI,6BAA6B;AACjC",sourcesContent:[":root {\n    --body-color: #526368;\n    --sub-color: #1e2f39;\n    --light-sub-color: #405258;\n    --accent-color: #968a7d;\n    --dark-accent-color: #806742;\n    --text-color: #e4e1cf;\n}\n\n* {\n    margin: 0;\n    padding: 0;\n}\n\n.hidden {\n    display: none !important;\n}\n\nbody {\n    display: grid;\n    grid-template-columns: 15rem 1fr;\n    grid-template-rows: 3.5rem calc(100vh - 3.5rem);\n    background-color: var(--body-color);\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\nli {\n    display: flex;\n    list-style: none;\n}\n\n/* preceding icon classes */\n.icon {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n}\n\nsvg {\n    width: 2em;\n    height: 2em;\n}\n\n.tag svg {\n    width: 1em;\n    height: 1em;\n}\n\n/* header */\nheader {\n    grid-area: 1/1/1/3;\n    background-color: var(--sub-color);\n}\n\n/* side menu*/\nnav {\n    display: grid;\n    grid-template-columns: auto;\n    grid-template-rows: 2rem auto 3rem 3rem 1fr 5rem;\n    padding-left: 2rem;\n    background-color: var(--light-sub-color);\n}\n\nnav .icon {\n    border: none;\n    background-color: transparent;\n    font-size: 1rem;\n    font-weight: bold;\n    color: var(--text-color);\n    fill: var(--text-color);\n}\n\n.menu-time-options li {\n    padding: 0;\n}\n\nnav input {\n    padding: 0.5rem;\n    width: 60%;  \n    color:var(--text-color)\n}\n\nnav .tag p {\n    width: 60%;\n}\n\n.tag-list li {\n    padding: 0.5em 0 0.5em 2em;\n}\n\n/* main content */\nmain {\n    padding: 2rem 4rem;\n    overflow: auto;\n}\n\ninput {\n    border: none;\n    background-color: transparent;\n}\n\n.task-list-head {\n    display:flex;\n    align-items: center;\n}\n\n.divider {\n    border: 2px solid var(--accent-color);\n    width: 100%;\n    height: 0;\n    margin-left: 1rem;\n}\n\n.task-creation {\n    display: grid;\n    grid-template-columns: 10rem 8rem 7rem auto 6rem 6rem;\n    grid-template-rows: 3rem 3rem 3rem;\n    border: 3px solid var(--sub-color);\n    border-radius: 6px;\n    background-color: rgb(11 22 33 / 44%);\n    \n}\n\n.task-creation input::placeholder {\n    color: var(--text-color);\n}\n\n.task-creation select, .task-creation input[type=date], .task-creation .tag-group {\n    margin: 6px;\n    padding: 0;\n    cursor: pointer;\n    border: 2px solid var(--text-color);\n    border-radius: 6px;\n    background-color: rgb(92 105 107 / 51%);\n    color: var(--text-color);\n}\n\n.task-creation p, .task-creation li {\n    padding: 0.5rem;\n    font-size: 0.9rem;\n}\n\n.task-creation li {\n    background-color: #1e2f39;\n}\n\n.task-creation input[type=checkbox] {\n    margin-right: 0.5rem;\n}\n\n.task-creation option {\n    background-color: var(--sub-color);\n    color: var(--text-color);\n}\n\n.task-creation button {\n    margin: 6px;\n    border: none;\n    border-radius: 6px;\n}\n\n.task-entry {\n    display: grid;\n    grid-template-columns: 2rem auto;\n    grid-template-rows: auto;\n    color: var(--text-color);\n}\n\n.task-entry button {\n    grid-area: 1/1/3/1;\n    border: none;\n    fill: var(--sub-color);\n    background-color: transparent;\n}\n\n.tag-group {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n    padding: 1rem 0 0 0;\n}\n\nmain .icon {\n    border: none;\n    background-color: transparent;\n    font-size: 1rem;\n    font-weight: bold;\n    color: var(--text-color);\n    fill: var(--text-color);\n}\n\n\n/* task modal */\n.task-modal-wrapper, .tag-modal-wrapper {\n    position:fixed;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0,0,0,0.3);\n}\n\n.task-modal, .tag-modal {\n    position: inherit;\n    --modal-width: 300px;\n    --modal-height: 300px;\n    width: var(--modal-width);\n    height: var(--modal-height);\n    bottom: calc(50% - var(--modal-height)/2);\n    right: calc(50% - var(--modal-width)/2);\n    background-color: var(--accent-color);\n    padding: 3rem;\n}\n\n.close {\n    position: absolute;\n    right: 0.5rem;\n    top: 0.5rem;\n    background-color: transparent;\n    border: none;\n    padding: 0;\n}\n\n.task-modal input, .task-modal textarea {\n    background-color: transparent;\n}\n\n"],sourceRoot:""}]);const s=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",a=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),a&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),a&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,a,o,r){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(a)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var l=0;l<n.length;l++){var c=[].concat(n[l]);a&&i[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},537:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),r="/*# ".concat(o," */");return[e].concat([r]).join("\n")}return[e].join("\n")}},379:n=>{var e=[];function t(n){for(var t=-1,a=0;a<e.length;a++)if(e[a].identifier===n){t=a;break}return t}function a(n,a){for(var r={},i=[],s=0;s<n.length;s++){var d=n[s],l=a.base?d[0]+a.base:d[0],c=r[l]||0,A="".concat(l," ").concat(c);r[l]=c+1;var p=t(A),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var g=o(m,a);a.byIndex=s,e.splice(s,0,{identifier:A,updater:g,references:1})}i.push(A)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var r=a(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<r.length;i++){var s=t(r[i]);e[s].references--}for(var d=a(n,o),l=0;l<r.length;l++){var c=t(r[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}r=d}}},569:n=>{var e={};n.exports=function(n,t){var a=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,o&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(a,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},265:(n,e,t)=>{t.d(e,{Z:()=>a});const a=(()=>{function n(n){return document.querySelector(n)}return{query:n,queryAll:function(n){return document.querySelectorAll(n)},createSVGElement:n=>{const e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",n.path),e.setAttribute("viewbox","0 0 24 24"),e.appendChild(t),e},setVisible:(e,t=!0)=>{const a=(e=>"string"==typeof e?n(e):e)(e).classList;t?a.remove("hidden"):a.add("hidden")},moveDown:e=>{const t=n(e);t.parentNode.appendChild(t)},setClick:function(e,t){n(e).addEventListener("click",t)},addEntryOfTemplate:function(e,t){const a=n(e).cloneNode(!0),o=n(t);return a.classList.remove("hidden"),o.appendChild(a),a},addTemporaryInput:function(e,t,a=""){const o=document.createElement("input"),r=n(e),i=n(t);if(r||i)return o.style+=a,r.classList.add("hidden"),i.appendChild(o),o.select(),console.log("Swapped out input."),o;console.log("Failed to find element or container")},swapInputWithText:function(e,t,a=!1){const o=n(t);return o.textContent=e.value,o.classList.remove("hidden"),a&&e.remove(),o},elementExists:e=>null!=n(e)}})()},85:(n,e,t)=>{t.d(e,{Z:()=>a});const a={save:n=>{"object"==typeof n?(window.localStorage.setItem("data",JSON.stringify(n)),console.log("Saved data.")):console.warn("Cannot save data because target data isn't an Object")},clear:()=>{window.localStorage.clear(),console.log("Cleared local data.")},hasExistingData:function(){return window.localStorage.data||!1},getDataCopy:function(){return JSON.parse(window.localStorage.data)||null}}},214:(n,e,t)=>{t.d(e,{Z:()=>o});var a=t(85);const o=function(){var n={version:"0.2.0",user:"Guest",tasks:[{id:0,checked:!1,title:"Add New Task",description:'Pressing "Add Task" at the bottom adds a new task.',deadline:"",priority:"None",tags:[{name:"Work",color:"#000000"}]},{id:1,checked:!1,title:"Add New Tag",description:'Pressing "Add Tag" on the side menu lets you add a new tag.',deadline:"",priority:"None",tags:[{name:"Work",color:"#000000"}]}],tags:[{name:"Work",color:"#000000"},{name:"Hobby",color:"#000000"},{name:"Shopping",color:"#000000"}],tagColors:["#dd4242","#7abb46","#3d95e2"]};let e;const t=()=>JSON.parse(JSON.stringify(e)),o=()=>a.Z.save(e);return{loadUserData:()=>{return console.log("Retrieving user data"),a.Z.hasExistingData()?((r=a.Z.getDataCopy()).version==n.version?(console.log(`Using most updated version ${n.version}`),e=r):"1"==n.version[0]?(e=r,e.version=n.version,console.log(`Updated to latest version ${n.version}`)):(e=JSON.parse(JSON.stringify(n)),console.log(`Reseting data due to new update. Updated to version ${n.version}`)),o(),t()):JSON.parse(JSON.stringify(n));var r},getDataCopy:t,getTaskById:n=>t().tasks.find((e=>e.id==n)),addNewTag:n=>n.name&&n.color?(e.tags.push(n),o(),n):(console.error("Extracted invalid tag format"),null),addNewTask:n=>"number"==typeof n.id&&null!=n.checked&&"string"==typeof n.title&&"string"==typeof n.description&&"string"==typeof n.deadline&&"string"==typeof n.priority&&n.tags?(n.id=e.tasks?e.tasks[e.tasks.length-1].id+1:0,e.tasks.push(n),o(),n):(console.error("Extracted invalid task format"),null),toggleCheckOffTask:n=>{const t=e.tasks.find((e=>e.id==n)),a=e.tasks.indexOf(t);if(!(a<0))return e.tasks[a].checked=!e.tasks[a].checked,o(),e.tasks[a].checked;console.warn(`Could not find task of id ${n}`)},removeTask:n=>{const t=e.tasks.find((e=>e.id==n)),a=e.tasks.indexOf(t);a<0?console.warn(`Could not find task of id ${n}`):(e.tasks.splice(a,1),o(),console.log(`Removed task entry id ${n}`))},resetData:()=>(e=JSON.parse(JSON.stringify(n)),o(),t())}}()},513:(n,e,t)=>{t.d(e,{Z:()=>o});var a=t(265);const o=(()=>{const n=a.Z.query(".task-list"),e=a.Z.query("nav ul.tag-list"),t=a.Z.query(".tag-modal-wrapper"),o=a.Z.query(".task-creation"),r=a.Z.query(".tag-group ul"),i=a.Z.query(".task-modal-wrapper"),s={modal:a.Z.query(".task-modal"),checked:a.Z.query(".task-modal-wrapper .checked"),title:a.Z.query(".task-modal-wrapper .title"),description:a.Z.query(".task-modal-wrapper .description"),tags:a.Z.query(".task-modal-wrapper .tags"),deadline:a.Z.query(".task-modal-wrapper .deadline"),priority:a.Z.query(".task-modal-wrapper .priority")},d=n=>{const e=document.createElement("li"),t=document.createElement("div"),o=document.createElement("p"),r=a.Z.createSVGElement({path:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"});return t.classList.add("tag"),t.classList.add("icon"),o.textContent=n.name,t.appendChild(r),t.appendChild(o),e.appendChild(t),e},l=e=>{for(const t of n.children)if(t.dataset.id==e)return t;return null},c=(n,e)=>{a.Z.setVisible(n.children[0],!e),a.Z.setVisible(n.children[1],e)},A=(n,t)=>{const a=d(n);e.appendChild(a),a.addEventListener("click",t)},p=(e,t,o)=>{const r=(n=>{const e=document.createElement("div"),t=document.createElement("div"),o=(()=>{const n=document.createElement("button"),e=a.Z.createSVGElement({path:"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}),t=a.Z.createSVGElement({path:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20M16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z"});return n.classList.add("task-check"),t.classList.add("hidden"),n.appendChild(e),n.appendChild(t),n})();e.dataset.id=n.id,e.style="margin: 2rem;",e.classList.add("task-entry"),c(o,n.checked),e.appendChild(o),t.style="display: grid; grid-template-columns: auto 6rem 5rem; grid-template-rows: 3rem auto auto; align-items: center;";const r=(n,e,t,a)=>{const o=document.createElement(n);return o.classList.add(e),o.style=t,o.textContent=a,o};t.appendChild(r("p","title","grid-area: 1/1/1/1; margin-left: 1rem; font-size: 1.5rem; font-weight: 600;",n.title)),t.appendChild(r("p","description","grid-area: 2/1/2/-1; margin-left: 1rem;",n.description)),t.appendChild(r("p","deadline","grid-area: 1/2/1/2;",n.deadline)),t.appendChild(r("p","priority","grid-area: 1/3/1/3;",n.priority));const i=r("div","tag-group","grid-area: 3/1/3/-1; margin-left: 1rem;","");return n.tags.forEach((n=>{i.appendChild(d(n))})),t.appendChild(i),e.appendChild(t),e})(e);n.appendChild(r),r.childNodes[0].addEventListener("click",o),r.childNodes[1].addEventListener("click",t)};return{querySelected:n=>{const e=n.length;let t=Promise.resolve([]);for(let o=0;o<e;o++)t=t.then((e=>e.concat(a.Z.query(n[o]))));return t},addNewTag:A,addNewTask:p,removeTask:n=>{const e=l(n);e?e.remove():console.warn("Couldn't find node with matching id")},generateSideMenuTags:(n,t)=>{e.replaceChildren(),n.forEach((n=>{A(n,t(n))}))},generateHomeView:(e,t,a)=>{n.replaceChildren(),e.forEach((n=>{p(n,t(n),a(n))}))},extractTag:()=>{const n=document.forms.newTagForm;return{name:n.name.value,color:n.color}},extractIdOfCurrentTask:()=>s.modal.dataset.id,extractTaskFromCreation:()=>{const n={id:0,checked:!1},e=document.forms.newTaskForm;["title","description","deadline","priority"].forEach((t=>n[t]=e[t].value)),a.Z.queryAll(".task-group"),n.tags=[];for(const e of r.children)e.children[0].checked&&n.tags.push({name:e.dataset.name,color:e.dataset.color});return n},checkOffTask:(n,e)=>{const t=l(n);t?c(t.childNodes[0],e):console.warn("Couldn't find node with matching id")},loadTagsInTaskCreation:n=>{r.replaceChildren(),n.forEach((n=>{const e=document.createElement("li"),t=document.createElement("input"),a=document.createElement("p");e.classList.add("tag-item"),e.dataset.name=n.name,e.dataset.color=n.color,t.type="checkbox",t.name=n.name,a.textContent=n.name,e.appendChild(t),e.appendChild(a),r.append(e)}))},loadTaskInModal:n=>{a.Z.setVisible(s.modal,!1),s.tags.replaceChildren(),s.modal.dataset.id=n.id;for(const e in n)"id"!=e&&"tags"!=e&&"checked"!=e&&(s[e].textContent=n[e]);c(s.checked,n.checked),n.tags.forEach((n=>{s.tags.appendChild(d(n))})),a.Z.setVisible(s.modal)},toggleTaskListDropdown:()=>{a.Z.setVisible(r,r.classList.contains("hidden"))},openTagModal:()=>{a.Z.setVisible(t)},closeTagModal:()=>{a.Z.setVisible(t,!1)},openTaskCreation:()=>{a.Z.setVisible(o)},closeTaskCreation:()=>{a.Z.setVisible(o,!1)},openTaskModal:()=>{a.Z.setVisible(i)},closeTaskModal:()=>{a.Z.setVisible(i,!1)}}})()}},e={};function t(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={id:a,exports:{}};return n[a](r,r.exports,t),r.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{var n=t(379),e=t.n(n),a=t(795),o=t.n(a),r=t(569),i=t.n(r),s=t(565),d=t.n(s),l=t(216),c=t.n(l),A=t(589),p=t.n(A),m=t(426),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=i().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=c(),e()(m.Z,g),m.Z&&m.Z.locals&&m.Z.locals;var u=t(214),C=t(513);const h=u.Z.loadUserData(),k=n=>()=>{},f=n=>()=>{I.openTask(n)},v=n=>()=>{C.Z.checkOffTask(n.id,u.Z.toggleCheckOffTask(n.id))};C.Z.generateSideMenuTags(h.tags,k),C.Z.generateHomeView(h.tasks,f,v);const I={goToHome:()=>{C.Z.generateHomeView(u.Z.getDataCopy().tasks,f,v),console.log("Load home view.")},addTag:()=>{C.Z.openTagModal()},closeTagModal:()=>{C.Z.closeTagModal()},submitTag:()=>{const n=u.Z.addNewTag(C.Z.extractTag());C.Z.addNewTag(n,(()=>{})),C.Z.closeTagModal()},clearAll:function(){Promise.resolve(u.Z.resetData()).then((n=>{C.Z.generateSideMenuTags(n.tags,k),C.Z.generateHomeView(n.tasks,f,v)}))},newTask:()=>{C.Z.loadTagsInTaskCreation(u.Z.getDataCopy().tags),C.Z.openTaskCreation()},toggleSelectTag:()=>{C.Z.toggleTaskListDropdown()},closeTaskCreation:()=>{C.Z.closeTaskCreation()},createTask:()=>{const n=u.Z.addNewTask(C.Z.extractTaskFromCreation());C.Z.addNewTask(n,f(n),v(n)),C.Z.closeTaskCreation()},openTask:function(n){C.Z.openTaskModal(n),C.Z.loadTaskInModal(n)},updateTask:()=>{},closeTask:()=>{C.Z.closeTaskModal()},removeTask:()=>{const n=C.Z.extractIdOfCurrentTask();u.Z.removeTask(n),C.Z.removeTask(n),C.Z.closeTaskModal(),console.log(u.Z.getDataCopy())}},b=new Map([[".menu-time-options li:first-child",I.goToHome],[".tag-add",I.addTag],["button.data-clear",I.clearAll],["main button.add",I.newTask],[".task-creation .tag-group p",I.toggleSelectTag],[".task-creation .cancel",I.closeTaskCreation],[".task-creation .submit",I.createTask],[".task-modal button.close",I.closeTask],[".task-modal .remove",I.removeTask],[".tag-modal .cancel",I.closeTagModal],[".tag-modal .submit",I.submitTag],[".tag-modal button.close",I.closeTagModal]]),B=Array.from(b,(n=>n[0]));C.Z.querySelected(B).then((n=>{for(let e=0;e<B.length;e++)n[e].addEventListener("click",b.get(B[e]))})),console.log(h)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJ3RkFHSUEsRSxNQUEwQixHQUE0QixLQUUxREEsRUFBd0JDLEtBQUssQ0FBQ0MsRUFBT0MsR0FBSSxza0lBQXVrSSxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQyw2QkFBNkIsTUFBUSxHQUFHLFNBQVcsK3VEQUErdUQsZUFBaUIsQ0FBQyx1a0lBQXVrSSxXQUFhLE1BRW5oVSxTLFVDREFELEVBQU9FLFFBQVUsU0FBVUMsR0FDekIsSUFBSUMsRUFBTyxHQTRFWCxPQXpFQUEsRUFBS0MsU0FBVyxXQUNkLE9BQU9DLEtBQUtDLEtBQUksU0FBVUMsR0FDeEIsSUFBSUMsRUFBVSxHQUNWQyxPQUErQixJQUFaRixFQUFLLEdBb0I1QixPQW5CSUEsRUFBSyxLQUNQQyxHQUFXLGNBQWNFLE9BQU9ILEVBQUssR0FBSSxRQUV2Q0EsRUFBSyxLQUNQQyxHQUFXLFVBQVVFLE9BQU9ILEVBQUssR0FBSSxPQUVuQ0UsSUFDRkQsR0FBVyxTQUFTRSxPQUFPSCxFQUFLLEdBQUdJLE9BQVMsRUFBSSxJQUFJRCxPQUFPSCxFQUFLLElBQU0sR0FBSSxPQUU1RUMsR0FBV04sRUFBdUJLLEdBQzlCRSxJQUNGRCxHQUFXLEtBRVRELEVBQUssS0FDUEMsR0FBVyxLQUVURCxFQUFLLEtBQ1BDLEdBQVcsS0FFTkEsQ0FDVCxJQUFHSSxLQUFLLEdBQ1YsRUFHQVQsRUFBS1UsRUFBSSxTQUFXQyxFQUFTQyxFQUFPQyxFQUFRQyxFQUFVQyxHQUM3QixpQkFBWkosSUFDVEEsRUFBVSxDQUFDLENBQUMsS0FBTUEsT0FBU0ssS0FFN0IsSUFBSUMsRUFBeUIsQ0FBQyxFQUM5QixHQUFJSixFQUNGLElBQUssSUFBSUssRUFBSSxFQUFHQSxFQUFJaEIsS0FBS00sT0FBUVUsSUFBSyxDQUNwQyxJQUFJckIsRUFBS0ssS0FBS2dCLEdBQUcsR0FDUCxNQUFOckIsSUFDRm9CLEVBQXVCcEIsSUFBTSxFQUVqQyxDQUVGLElBQUssSUFBSXNCLEVBQUssRUFBR0EsRUFBS1IsRUFBUUgsT0FBUVcsSUFBTSxDQUMxQyxJQUFJZixFQUFPLEdBQUdHLE9BQU9JLEVBQVFRLElBQ3pCTixHQUFVSSxFQUF1QmIsRUFBSyxXQUdyQixJQUFWVyxTQUNjLElBQVpYLEVBQUssS0FHZEEsRUFBSyxHQUFLLFNBQVNHLE9BQU9ILEVBQUssR0FBR0ksT0FBUyxFQUFJLElBQUlELE9BQU9ILEVBQUssSUFBTSxHQUFJLE1BQU1HLE9BQU9ILEVBQUssR0FBSSxNQUYvRkEsRUFBSyxHQUFLVyxHQU1WSCxJQUNHUixFQUFLLElBR1JBLEVBQUssR0FBSyxVQUFVRyxPQUFPSCxFQUFLLEdBQUksTUFBTUcsT0FBT0gsRUFBSyxHQUFJLEtBQzFEQSxFQUFLLEdBQUtRLEdBSFZSLEVBQUssR0FBS1EsR0FNVkUsSUFDR1YsRUFBSyxJQUdSQSxFQUFLLEdBQUssY0FBY0csT0FBT0gsRUFBSyxHQUFJLE9BQU9HLE9BQU9ILEVBQUssR0FBSSxLQUMvREEsRUFBSyxHQUFLVSxHQUhWVixFQUFLLEdBQUssR0FBR0csT0FBT08sSUFNeEJkLEVBQUtMLEtBQUtTLEdBQ1osQ0FDRixFQUNPSixDQUNULEMsVUNsRkFKLEVBQU9FLFFBQVUsU0FBVU0sR0FDekIsSUFBSUMsRUFBVUQsRUFBSyxHQUNmZ0IsRUFBYWhCLEVBQUssR0FDdEIsSUFBS2dCLEVBQ0gsT0FBT2YsRUFFVCxHQUFvQixtQkFBVGdCLEtBQXFCLENBQzlCLElBQUlDLEVBQVNELEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVU4sTUFDekRPLEVBQU8sK0RBQStEcEIsT0FBT2UsR0FDN0VNLEVBQWdCLE9BQU9yQixPQUFPb0IsRUFBTSxPQUN4QyxNQUFPLENBQUN0QixHQUFTRSxPQUFPLENBQUNxQixJQUFnQm5CLEtBQUssS0FDaEQsQ0FDQSxNQUFPLENBQUNKLEdBQVNJLEtBQUssS0FDeEIsQyxVQ2JBLElBQUlvQixFQUFjLEdBRWxCLFNBQVNDLEVBQXFCQyxHQUc1QixJQUZBLElBQUlDLEdBQVUsRUFFTHRCLEVBQUksRUFBR0EsRUFBSW1CLEVBQVlyQixPQUFRRSxJQUN0QyxHQUFJbUIsRUFBWW5CLEdBQUdxQixhQUFlQSxFQUFZLENBQzVDQyxFQUFTdEIsRUFDVCxLQUNGLENBR0YsT0FBT3NCLENBQ1QsQ0FFQSxTQUFTQyxFQUFhakMsRUFBTWtDLEdBSTFCLElBSEEsSUFBSUMsRUFBYSxDQUFDLEVBQ2RDLEVBQWMsR0FFVDFCLEVBQUksRUFBR0EsRUFBSVYsRUFBS1EsT0FBUUUsSUFBSyxDQUNwQyxJQUFJTixFQUFPSixFQUFLVSxHQUNaYixFQUFLcUMsRUFBUUcsS0FBT2pDLEVBQUssR0FBSzhCLEVBQVFHLEtBQU9qQyxFQUFLLEdBQ2xEa0MsRUFBUUgsRUFBV3RDLElBQU8sRUFDMUJrQyxFQUFhLEdBQUd4QixPQUFPVixFQUFJLEtBQUtVLE9BQU8rQixHQUMzQ0gsRUFBV3RDLEdBQU15QyxFQUFRLEVBQ3pCLElBQUlDLEVBQW9CVCxFQUFxQkMsR0FDekNTLEVBQU0sQ0FDUkMsSUFBS3JDLEVBQUssR0FDVlEsTUFBT1IsRUFBSyxHQUNac0MsVUFBV3RDLEVBQUssR0FDaEJVLFNBQVVWLEVBQUssR0FDZlcsTUFBT1gsRUFBSyxJQUdkLElBQTJCLElBQXZCbUMsRUFDRlYsRUFBWVUsR0FBbUJJLGFBQy9CZCxFQUFZVSxHQUFtQkssUUFBUUosT0FDbEMsQ0FDTCxJQUFJSSxFQUFVQyxFQUFnQkwsRUFBS04sR0FDbkNBLEVBQVFZLFFBQVVwQyxFQUNsQm1CLEVBQVlrQixPQUFPckMsRUFBRyxFQUFHLENBQ3ZCcUIsV0FBWUEsRUFDWmEsUUFBU0EsRUFDVEQsV0FBWSxHQUVoQixDQUVBUCxFQUFZekMsS0FBS29DLEVBQ25CLENBRUEsT0FBT0ssQ0FDVCxDQUVBLFNBQVNTLEVBQWdCTCxFQUFLTixHQUM1QixJQUFJYyxFQUFNZCxFQUFRZSxPQUFPZixHQWV6QixPQWRBYyxFQUFJRSxPQUFPVixHQUVHLFNBQWlCVyxHQUM3QixHQUFJQSxFQUFRLENBQ1YsR0FBSUEsRUFBT1YsTUFBUUQsRUFBSUMsS0FBT1UsRUFBT3ZDLFFBQVU0QixFQUFJNUIsT0FBU3VDLEVBQU9ULFlBQWNGLEVBQUlFLFdBQWFTLEVBQU9yQyxXQUFhMEIsRUFBSTFCLFVBQVlxQyxFQUFPcEMsUUFBVXlCLEVBQUl6QixNQUN6SixPQUdGaUMsRUFBSUUsT0FBT1YsRUFBTVcsRUFDbkIsTUFDRUgsRUFBSUksUUFFUixDQUdGLENBRUF4RCxFQUFPRSxRQUFVLFNBQVVFLEVBQU1rQyxHQUcvQixJQUFJbUIsRUFBa0JwQixFQUR0QmpDLEVBQU9BLEdBQVEsR0FEZmtDLEVBQVVBLEdBQVcsQ0FBQyxHQUd0QixPQUFPLFNBQWdCb0IsR0FDckJBLEVBQVVBLEdBQVcsR0FFckIsSUFBSyxJQUFJNUMsRUFBSSxFQUFHQSxFQUFJMkMsRUFBZ0I3QyxPQUFRRSxJQUFLLENBQy9DLElBQ0k2QyxFQUFRekIsRUFES3VCLEVBQWdCM0MsSUFFakNtQixFQUFZMEIsR0FBT1osWUFDckIsQ0FJQSxJQUZBLElBQUlhLEVBQXFCdkIsRUFBYXFCLEVBQVNwQixHQUV0Q3VCLEVBQUssRUFBR0EsRUFBS0osRUFBZ0I3QyxPQUFRaUQsSUFBTSxDQUNsRCxJQUVJQyxFQUFTNUIsRUFGS3VCLEVBQWdCSSxJQUlLLElBQW5DNUIsRUFBWTZCLEdBQVFmLGFBQ3RCZCxFQUFZNkIsR0FBUWQsVUFFcEJmLEVBQVlrQixPQUFPVyxFQUFRLEdBRS9CLENBRUFMLEVBQWtCRyxDQUNwQixDQUNGLEMsVUNyR0EsSUFBSUcsRUFBTyxDQUFDLEVBb0NaL0QsRUFBT0UsUUFWUCxTQUEwQjhELEVBQVFDLEdBQ2hDLElBQUlDLEVBeEJOLFNBQW1CQSxHQUNqQixRQUE0QixJQUFqQkgsRUFBS0csR0FBeUIsQ0FDdkMsSUFBSUMsRUFBY0MsU0FBU0MsY0FBY0gsR0FFekMsR0FBSUksT0FBT0MsbUJBQXFCSixhQUF1QkcsT0FBT0Msa0JBQzVELElBR0VKLEVBQWNBLEVBQVlLLGdCQUFnQkMsSUFJNUMsQ0FIRSxNQUFPQyxHQUVQUCxFQUFjLElBQ2hCLENBR0ZKLEVBQUtHLEdBQVVDLENBQ2pCLENBRUEsT0FBT0osRUFBS0csRUFDZCxDQUtlUyxDQUFVWCxHQUV2QixJQUFLRSxFQUNILE1BQU0sSUFBSVUsTUFBTSwyR0FHbEJWLEVBQU9XLFlBQVlaLEVBQ3JCLEMsVUMxQkFqRSxFQUFPRSxRQVBQLFNBQTRCb0MsR0FDMUIsSUFBSXdDLEVBQVVWLFNBQVNXLGNBQWMsU0FHckMsT0FGQXpDLEVBQVEwQyxjQUFjRixFQUFTeEMsRUFBUTJDLFlBQ3ZDM0MsRUFBUTBCLE9BQU9jLEVBQVN4QyxFQUFRQSxTQUN6QndDLENBQ1QsQyxnQkNHQTlFLEVBQU9FLFFBUlAsU0FBd0NnRixHQUN0QyxJQUFJQyxFQUFtRCxLQUVuREEsR0FDRkQsRUFBYUUsYUFBYSxRQUFTRCxFQUV2QyxDLFVDNERBbkYsRUFBT0UsUUFaUCxTQUFnQm9DLEdBQ2QsSUFBSTRDLEVBQWU1QyxFQUFRK0MsbUJBQW1CL0MsR0FDOUMsTUFBTyxDQUNMZ0IsT0FBUSxTQUFnQlYsSUF6RDVCLFNBQWVzQyxFQUFjNUMsRUFBU00sR0FDcEMsSUFBSUMsRUFBTSxHQUVORCxFQUFJMUIsV0FDTjJCLEdBQU8sY0FBY2xDLE9BQU9pQyxFQUFJMUIsU0FBVSxRQUd4QzBCLEVBQUk1QixRQUNONkIsR0FBTyxVQUFVbEMsT0FBT2lDLEVBQUk1QixNQUFPLE9BR3JDLElBQUlOLE9BQWlDLElBQWRrQyxFQUFJekIsTUFFdkJULElBQ0ZtQyxHQUFPLFNBQVNsQyxPQUFPaUMsRUFBSXpCLE1BQU1QLE9BQVMsRUFBSSxJQUFJRCxPQUFPaUMsRUFBSXpCLE9BQVMsR0FBSSxPQUc1RTBCLEdBQU9ELEVBQUlDLElBRVBuQyxJQUNGbUMsR0FBTyxLQUdMRCxFQUFJNUIsUUFDTjZCLEdBQU8sS0FHTEQsRUFBSTFCLFdBQ04yQixHQUFPLEtBR1QsSUFBSUMsRUFBWUYsRUFBSUUsVUFFaEJBLEdBQTZCLG9CQUFUckIsT0FDdEJvQixHQUFPLHVEQUF1RGxDLE9BQU9jLEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVWdCLE1BQWUsUUFNdElSLEVBQVFnRCxrQkFBa0J6QyxFQUFLcUMsRUFBYzVDLEVBQVFBLFFBQ3ZELENBaUJNaUQsQ0FBTUwsRUFBYzVDLEVBQVNNLEVBQy9CLEVBQ0FZLE9BQVEsWUFqQlosU0FBNEIwQixHQUUxQixHQUFnQyxPQUE1QkEsRUFBYU0sV0FDZixPQUFPLEVBR1ROLEVBQWFNLFdBQVdDLFlBQVlQLEVBQ3RDLENBV01RLENBQW1CUixFQUNyQixFQUVKLEMsVUNwREFsRixFQUFPRSxRQVpQLFNBQTJCMkMsRUFBS3FDLEdBQzlCLEdBQUlBLEVBQWFTLFdBQ2ZULEVBQWFTLFdBQVdDLFFBQVUvQyxNQUM3QixDQUNMLEtBQU9xQyxFQUFhVyxZQUNsQlgsRUFBYU8sWUFBWVAsRUFBYVcsWUFHeENYLEVBQWFMLFlBQVlULFNBQVMwQixlQUFlakQsR0FDbkQsQ0FDRixDLGlDQ1JBLE1BZ0ZBLEVBaEZtQixNQUNmLFNBQVNrRCxFQUFNQyxHQUFZLE9BQU81QixTQUFTQyxjQUFjMkIsRUFBVyxDQWtFcEUsTUFBTyxDQUNIRCxRQUNBRSxTQW5FSixTQUFrQkQsR0FBWSxPQUFPNUIsU0FBUzhCLGlCQUFpQkYsRUFBVyxFQW9FdEVHLGlCQWhFc0JwRSxJQUN0QixNQUFNcUUsRUFBTWhDLFNBQVNpQyxnQkFBZ0IsNkJBQThCLE9BQzdEQyxFQUFPbEMsU0FBU2lDLGdCQUFnQiw2QkFBOEIsUUFJcEUsT0FIQUMsRUFBS2xCLGFBQWEsSUFBS3JELEVBQUt1RSxNQUM1QkYsRUFBSWhCLGFBQWEsVUFBVyxhQUM1QmdCLEVBQUl2QixZQUFZeUIsR0FDVEYsQ0FBRyxFQTJEVkcsV0FuRGUsQ0FBQ1AsRUFBVVEsR0FBVSxLQUNwQyxNQUFNQyxFQWpCYyxDQUFDVCxHQUF1QyxpQkFBWkEsRUFBdUJELEVBQU1DLEdBQVlBLEVBaUJoRVUsQ0FBZ0JWLEdBQVVXLFVBQ25ESCxFQUFVQyxFQUFpQmpELE9BQU8sVUFBWWlELEVBQWlCRyxJQUFJLFNBQVMsRUFrRDVFQyxTQWhEY2IsSUFDZCxNQUFNbEIsRUFBVWlCLEVBQU1DLEdBQ3RCbEIsRUFBUVUsV0FBV1gsWUFBWUMsRUFBUSxFQStDdkNnQyxTQTFEYSxTQUFTQyxFQUFpQkMsR0FDdkJqQixFQUFNZ0IsR0FDZEUsaUJBQWlCLFFBQVNELEVBQ3RDLEVBd0RJRSxtQkE3Q3VCLFNBQVNDLEVBQWtCQyxHQUNsRCxNQUNNQyxFQURnQnRCLEVBQU1vQixHQUNBRyxXQUFVLEdBQ2hDQyxFQUFZeEIsRUFBTXFCLEdBR3hCLE9BRkFDLEVBQU1WLFVBQVVuRCxPQUFPLFVBQ3ZCK0QsRUFBVTFDLFlBQVl3QyxHQUNmQSxDQUNYLEVBdUNJRyxrQkFuQ3NCLFNBQVNULEVBQWlCSyxFQUFtQkssRUFBYSxJQUNoRixNQUFNQyxFQUFRdEQsU0FBU1csY0FBYyxTQUMvQkQsRUFBVWlCLEVBQU1nQixHQUNoQlEsRUFBWXhCLEVBQU1xQixHQUN4QixHQUFNdEMsR0FBV3lDLEVBU2pCLE9BTEFHLEVBQU16RCxPQUFTd0QsRUFDZjNDLEVBQVE2QixVQUFVQyxJQUFJLFVBQ3RCVyxFQUFVMUMsWUFBWTZDLEdBQ3RCQSxFQUFNQyxTQUNOQyxRQUFRQyxJQUFJLHNCQUNMSCxFQVJIRSxRQUFRQyxJQUFJLHNDQVNwQixFQXNCSUMsa0JBcEJzQixTQUFTSixFQUFPSyxFQUFjQyxHQUFZLEdBQ2hFLE1BQU1DLEVBQU9sQyxFQUFNZ0MsR0FNbkIsT0FMQUUsRUFBS0MsWUFBY1IsRUFBTVMsTUFDekJGLEVBQUt0QixVQUFVbkQsT0FBTyxVQUNsQndFLEdBQ0FOLEVBQU1sRSxTQUVIeUUsQ0FDWCxFQWFJRyxjQTFFbUJwQyxHQUFnQyxNQUFuQkQsRUFBTUMsR0E0RTdDLEVBL0VrQixFLGdDQ0RuQixNQW1EQSxFQUpXLENBQUNxQyxLQVRNQyxJQUNlLGlCQUFkQSxHQUlYaEUsT0FBT2lFLGFBQWFDLFFBQVEsT0FBUTNHLEtBQUtDLFVBQVV3RyxJQUNuRFYsUUFBUUMsSUFBSSxnQkFKUkQsUUFBUWEsS0FBSyx1REFJUyxFQUdoQkMsTUFmQSxLQUNWcEUsT0FBT2lFLGFBQWFHLFFBQ3BCZCxRQUFRQyxJQUFJLHNCQUFxQixFQWFoQmMsZ0JBN0NyQixXQUE2QixPQUFPckUsT0FBT2lFLGFBQWF4RyxPQUFRLENBQU8sRUE2Q2pDNkcsWUE1Q3RDLFdBQXlCLE9BQU8vRyxLQUFLZ0gsTUFBTXZFLE9BQU9pRSxhQUFheEcsT0FBUyxJQUFNLEUsNkNDQWxGLE1BMElBLEVBMUljLFdBQ1YsSUFBSStHLEVBQWMsQ0FDZEMsUUFBUyxRQUNUQyxLQUFNLFFBQ05DLE1BQU8sQ0FDSCxDQUNJaEosR0FBSSxFQUNKaUosU0FBUyxFQUNUQyxNQUFPLGVBQ1BDLFlBQWEscURBQ2JDLFNBQVUsR0FDVkMsU0FBVSxPQUNWQyxLQUFNLENBQ0YsQ0FBRUMsS0FBSyxPQUFRQyxNQUFNLGFBRzdCLENBQ0l4SixHQUFJLEVBQ0ppSixTQUFTLEVBQ1RDLE1BQU8sY0FDUEMsWUFBYSw4REFDYkMsU0FBVSxHQUNWQyxTQUFVLE9BQ1ZDLEtBQU0sQ0FDRixDQUFFQyxLQUFLLE9BQVFDLE1BQU0sY0FJakNGLEtBQU0sQ0FDRixDQUFFQyxLQUFLLE9BQVFDLE1BQU0sV0FDckIsQ0FBRUQsS0FBSyxRQUFTQyxNQUFNLFdBQ3RCLENBQUVELEtBQUssV0FBWUMsTUFBTSxZQUc3QkMsVUFBVyxDQUFDLFVBQVcsVUFBVyxZQUd0QyxJQUFJQyxFQUNKLE1BRU1mLEVBQWMsSUFBTS9HLEtBQUtnSCxNQUFNaEgsS0FBS0MsVUFBVTZILElBRTlDQyxFQUFjLElBQU0sU0FBc0JELEdBcUZoRCxNQUFPLENBQ0hFLGFBL0RpQixLQUVqQixPQURBakMsUUFBUUMsSUFBSSx3QkFDTCx3QkF2QmdCaUMsRUF1QnVDLG1CQXRCN0NmLFNBQVdELEVBQVlDLFNBQ3BDbkIsUUFBUUMsSUFBSSw4QkFBOEJpQixFQUFZQyxXQUN0RFksRUFBY0csR0FFaUIsS0FBMUJoQixFQUFZQyxRQUFRLElBRXpCWSxFQUFjRyxFQUVkSCxFQUFZWixRQUFVRCxFQUFZQyxRQUNsQ25CLFFBQVFDLElBQUksNkJBQTZCaUIsRUFBWUMsYUFJckRZLEVBQWM5SCxLQUFLZ0gsTUFBTWhILEtBQUtDLFVBQVVnSCxJQUN4Q2xCLFFBQVFDLElBQUksdURBQXVEaUIsRUFBWUMsWUFFbkZhLElBQ09oQixLQXJCc0IvRyxLQUFLZ0gsTUFBTWhILEtBQUtDLFVBQVVnSCxJQUdqQyxJQUFDZ0IsQ0F1QjZGLEVBOERwSGxCLGNBQ0FtQixZQTNGaUI5SixHQUFPMkksSUFBY0ssTUFBTWUsTUFBS0MsR0FBUUEsRUFBS2hLLElBQU1BLElBNEZwRWlLLFVBN0RlQyxHQUNWQSxFQUFVLE1BQU1BLEVBQVcsT0FJaENSLEVBQVlKLEtBQUt4SixLQUFLb0ssR0FDdEJQLElBQ09PLElBTEh2QyxRQUFRd0MsTUFBTSxnQ0FDUCxNQTJEWEMsV0FwRGdCSixHQUNZLGlCQUFkQSxFQUFTLElBQ0EsTUFBbkJBLEVBQWMsU0FDVSxpQkFBakJBLEVBQVksT0FDVyxpQkFBdkJBLEVBQWtCLGFBQ0UsaUJBQXBCQSxFQUFlLFVBQ0ssaUJBQXBCQSxFQUFlLFVBQ3ZCQSxFQUFXLE1BSWRBLEVBQVMsR0FyRGdCTixFQUFZVixNQUFZVSxFQUFZVixNQUFNVSxFQUFZVixNQUFNckksT0FBTyxHQUFHWCxHQUFLLEVBQXZELEVBc0Q3QzBKLEVBQVlWLE1BQU1sSixLQUFLa0ssR0FDdkJMLElBQ09LLElBTkhyQyxRQUFRd0MsTUFBTSxpQ0FDUCxNQTRDWEUsbUJBcEN3QnJLLElBQ3hCLE1BQU1nSyxFQUFPTixFQUFZVixNQUFNZSxNQUFLQyxHQUFRQSxFQUFLaEssSUFBTUEsSUFDakQwRCxFQUFRZ0csRUFBWVYsTUFBTXNCLFFBQVFOLEdBQ3hDLEtBQUl0RyxFQUFRLEdBTVosT0FGQWdHLEVBQVlWLE1BQU10RixHQUFPdUYsU0FBV1MsRUFBWVYsTUFBTXRGLEdBQU91RixRQUM3RFUsSUFDT0QsRUFBWVYsTUFBTXRGLEdBQU91RixRQUw1QnRCLFFBQVFhLEtBQUssNkJBQTZCeEksSUFLUCxFQTRCdkN1SyxXQXpCZ0J2SyxJQUNoQixNQUFNZ0ssRUFBT04sRUFBWVYsTUFBTWUsTUFBS0MsR0FBUUEsRUFBS2hLLElBQU1BLElBQ2pEMEQsRUFBUWdHLEVBQVlWLE1BQU1zQixRQUFRTixHQUNwQ3RHLEVBQVEsRUFDUmlFLFFBQVFhLEtBQUssNkJBQTZCeEksTUFHOUMwSixFQUFZVixNQUFNOUYsT0FBT1EsRUFBTyxHQUNoQ2lHLElBQ0FoQyxRQUFRQyxJQUFJLHlCQUF5QjVILEtBQUssRUFpQjFDd0ssVUFkYyxLQUNkZCxFQUFjOUgsS0FBS2dILE1BQU1oSCxLQUFLQyxVQUFVZ0gsSUFDeENjLElBQ09oQixLQWFkLENBeklhLEUsOENDRGQsTUFxUUEsRUFyUWEsTUFFVCxNQUFNOEIsRUFBdUIsVUFBaUIsY0FDeENDLEVBQWlCLFVBQWlCLG1CQUNsQ0MsRUFBa0IsVUFBaUIsc0JBQ25DQyxFQUFzQixVQUFpQixrQkFDdkNDLEVBQXNCLFVBQWlCLGlCQUN2Q0MsRUFBbUIsVUFBaUIsdUJBQ3BDQyxFQUFvQixDQUN0QkMsTUFBTyxVQUFpQixlQUN4Qi9CLFFBQVMsVUFBaUIsZ0NBQzFCQyxNQUFPLFVBQWlCLDhCQUN4QkMsWUFBYSxVQUFpQixvQ0FDOUJHLEtBQU0sVUFBaUIsNkJBQ3ZCRixTQUFVLFVBQWlCLGlDQUMzQkMsU0FBVSxVQUFpQixrQ0FpQnpCNEIsRUFBaUJmLElBQ25CLE1BQU1nQixFQUFXL0csU0FBU1csY0FBYyxNQUNsQ3FHLEVBQVNoSCxTQUFTVyxjQUFjLE9BQ2hDc0csRUFBVWpILFNBQVNXLGNBQWMsS0FDakN1RyxFQUFZLHFCQUE0QixDQUFDaEYsS0FBSyxpRkFPcEQsT0FOQThFLEVBQU96RSxVQUFVQyxJQUFJLE9BQ3JCd0UsRUFBT3pFLFVBQVVDLElBQUksUUFDckJ5RSxFQUFRbkQsWUFBY2lDLEVBQUlYLEtBQzFCNEIsRUFBT3ZHLFlBQVl5RyxHQUNuQkYsRUFBT3ZHLFlBQVl3RyxHQUNuQkYsRUFBU3RHLFlBQVl1RyxHQUNkRCxDQUFRLEVBbUNiSSxFQUFldEwsSUFDakIsSUFBSyxNQUFNdUwsS0FBUWQsRUFBcUJlLFNBQ3BDLEdBQUlELEVBQUtFLFFBQVF6TCxJQUFNQSxFQUNuQixPQUFPdUwsRUFHZixPQUFPLElBQUksRUFJVEcsRUFBdUIsQ0FBQ0MsRUFBY0MsS0FDeEMsZUFBc0JELEVBQWFILFNBQVMsSUFBS0ksR0FDakQsZUFBc0JELEVBQWFILFNBQVMsR0FBSUksRUFBVSxFQWN4RDNCLEVBQVksQ0FBQ0MsRUFBSzJCLEtBQ3BCLE1BQU1DLEVBQWFiLEVBQWVmLEdBQ2xDUSxFQUFlOUYsWUFBWWtILEdBQzNCQSxFQUFXOUUsaUJBQWlCLFFBQVM2RSxFQUFhLEVBR2hEekIsRUFBYSxDQUFDSixFQUFNNkIsRUFBY0UsS0FDcEMsTUFBTUMsRUFqRWNoQyxLQUNwQixNQUFNaUMsRUFBWTlILFNBQVNXLGNBQWMsT0FDbkNvSCxFQUFjL0gsU0FBU1csY0FBYyxPQUNyQ3FILEVBNUJxQixNQUMzQixNQUFNQyxFQUFtQmpJLFNBQVNXLGNBQWMsVUFDMUN1SCxFQUFlLHFCQUE0QixDQUFDaEcsS0FBSyxxSkFDakRpRyxFQUFhLHFCQUE0QixDQUFDakcsS0FBSyxpTUFLckQsT0FKQStGLEVBQWlCMUYsVUFBVUMsSUFBSSxjQUMvQjJGLEVBQVc1RixVQUFVQyxJQUFJLFVBQ3pCeUYsRUFBaUJ4SCxZQUFZeUgsR0FDN0JELEVBQWlCeEgsWUFBWTBILEdBQ3RCRixDQUFnQixFQW9CTEcsR0FDbEJOLEVBQVVSLFFBQVF6TCxHQUFLZ0ssRUFBS2hLLEdBQzVCaU0sRUFBVWpJLE1BQVEsZ0JBQ2xCaUksRUFBVXZGLFVBQVVDLElBQUksY0FDeEIrRSxFQUFxQlMsRUFBV25DLEVBQUtmLFNBQ3JDZ0QsRUFBVXJILFlBQVl1SCxHQUN0QkQsRUFBWWxJLE1BQVEsaUhBRXBCLE1BQU13SSxFQUFZLENBQUNDLEVBQU1DLEVBQVcxSSxFQUFPZ0UsS0FDdkMsTUFBTW5ELEVBQVVWLFNBQVNXLGNBQWMySCxHQUl2QyxPQUhBNUgsRUFBUTZCLFVBQVVDLElBQUkrRixHQUN0QjdILEVBQVFiLE1BQVFBLEVBQ2hCYSxFQUFRb0QsWUFBY0QsRUFDZm5ELENBQU8sRUFFbEJxSCxFQUFZdEgsWUFBWTRILEVBQVUsSUFBSyxRQUFTLDhFQUErRXhDLEVBQUtkLFFBQ3BJZ0QsRUFBWXRILFlBQVk0SCxFQUFVLElBQUssY0FBZSwwQ0FBMkN4QyxFQUFLYixjQUN0RytDLEVBQVl0SCxZQUFZNEgsRUFBVSxJQUFLLFdBQVksc0JBQXVCeEMsRUFBS1osV0FDL0U4QyxFQUFZdEgsWUFBWTRILEVBQVUsSUFBSyxXQUFXLHNCQUF1QnhDLEVBQUtYLFdBQzlFLE1BQU1zRCxFQUFXSCxFQUFVLE1BQU8sWUFBYSwwQ0FBMkMsSUFPMUYsT0FMQXhDLEVBQUtWLEtBQUtzRCxTQUFRMUMsSUFDZHlDLEVBQVMvSCxZQUFZcUcsRUFBZWYsR0FBSyxJQUU3Q2dDLEVBQVl0SCxZQUFZK0gsR0FDeEJWLEVBQVVySCxZQUFZc0gsR0FDZkQsQ0FBUyxFQW9DSVksQ0FBZ0I3QyxHQUNwQ1MsRUFBcUI3RixZQUFZb0gsR0FDakNBLEVBQVljLFdBQVcsR0FBRzlGLGlCQUFpQixRQUFTK0UsR0FDcERDLEVBQVljLFdBQVcsR0FBRzlGLGlCQUFpQixRQUFTNkUsRUFBYSxFQTJIckUsTUFBTyxDQUNIa0IsY0EvSW1CQyxJQUNuQixNQUFNQyxFQUFnQkQsRUFBVXJNLE9BQ2hDLElBQUl1TSxFQUFJQyxRQUFRQyxRQUFRLElBQ3hCLElBQUssSUFBSXZNLEVBQUUsRUFBR0EsRUFBRW9NLEVBQWVwTSxJQUMzQnFNLEVBQUlBLEVBQUVHLE1BQU1DLEdBQW1CQSxFQUFTNU0sT0FBTyxVQUFpQnNNLEVBQVVuTSxPQUU5RSxPQUFPcU0sQ0FBQyxFQTBJUmpELFlBQ0FHLGFBQ0FHLFdBNUhnQnZLLElBQ2hCLE1BQU11TCxFQUFPRCxFQUFhdEwsR0FDckJ1TCxFQUlMQSxFQUFLaEksU0FIRG9FLFFBQVFhLEtBQUssc0NBR0osRUF1SGIrRSxxQkFwSHlCLENBQUNqRSxFQUFNa0UsS0FDaEM5QyxFQUFlK0Msa0JBQ2ZuRSxFQUFLc0QsU0FBUTFDLElBQ1RELEVBQVVDLEVBQUtzRCxFQUFzQnRELEdBQUssR0FDNUMsRUFpSEZ3RCxpQkE5R3FCLENBQUMxRSxFQUFPd0UsRUFBdUJHLEtBQ3BEbEQsRUFBcUJnRCxrQkFDckJ6RSxFQUFNNEQsU0FBUTVDLElBQ1ZJLEVBQVdKLEVBQU13RCxFQUFzQnhELEdBQU8yRCxFQUFzQjNELEdBQU0sR0FDNUUsRUEyR0Y0RCxXQS9EZSxLQUNmLE1BQU1DLEVBQU8xSixTQUFTMkosTUFBa0IsV0FDeEMsTUFBTyxDQUFDdkUsS0FBTXNFLEVBQVcsS0FBRTNGLE1BQU9zQixNQUFPcUUsRUFBWSxNQUFDLEVBOER0REUsdUJBOUMyQixJQUFNaEQsRUFBa0JDLE1BQU1TLFFBQVF6TCxHQStDakVnTyx3QkE1RDRCLEtBQzVCLE1BQU1oRSxFQUFPLENBQUNoSyxHQUFJLEVBQUdpSixTQUFTLEdBQ3hCNEUsRUFBTzFKLFNBQVMySixNQUFtQixZQUMxQixDQUFDLFFBQVMsY0FBZSxXQUFZLFlBQzdDbEIsU0FBUXFCLEdBQVNqRSxFQUFLaUUsR0FBU0osRUFBS0ksR0FBTy9GLFFBQ2xELGFBQW9CLGVBQ3BCOEIsRUFBS1YsS0FBTyxHQUNaLElBQUssTUFBTWlDLEtBQVFWLEVBQW9CVyxTQUMvQkQsRUFBS0MsU0FBUyxHQUFHdkMsU0FBU2UsRUFBS1YsS0FBS3hKLEtBQUssQ0FBQ3lKLEtBQU1nQyxFQUFLRSxRQUFRbEMsS0FBTUMsTUFBTytCLEVBQUtFLFFBQVFqQyxRQUUvRixPQUFPUSxDQUFJLEVBbURYa0UsYUE5Q2lCLENBQUNsTyxFQUFJaUosS0FDdEIsTUFBTXNDLEVBQU9ELEVBQWF0TCxHQUNyQnVMLEVBSUxHLEVBQXFCSCxFQUFLdUIsV0FBVyxHQUFJN0QsR0FIckN0QixRQUFRYSxLQUFLLHNDQUdnQyxFQXlDakQyRix1QkE1RzRCN0UsSUFDNUJ1QixFQUFvQjRDLGtCQUNwQm5FLEVBQUtzRCxTQUFRMUMsSUFFVCxNQUFNa0UsRUFBV2pLLFNBQVNXLGNBQWMsTUFDbEMyQyxFQUFRdEQsU0FBU1csY0FBYyxTQUMvQmtELEVBQU83RCxTQUFTVyxjQUFjLEtBQ3BDc0osRUFBUzFILFVBQVVDLElBQUksWUFFdkJ5SCxFQUFTM0MsUUFBUWxDLEtBQU9XLEVBQUlYLEtBQzVCNkUsRUFBUzNDLFFBQVFqQyxNQUFRVSxFQUFJVixNQUM3Qi9CLEVBQU1nRixLQUFPLFdBQ2JoRixFQUFNOEIsS0FBT1csRUFBSVgsS0FDakJ2QixFQUFLQyxZQUFjaUMsRUFBSVgsS0FDdkI2RSxFQUFTeEosWUFBWTZDLEdBQ3JCMkcsRUFBU3hKLFlBQVlvRCxHQUNyQjZDLEVBQW9Cd0QsT0FBT0QsRUFBUyxHQUN0QyxFQTRGRkUsZ0JBekZxQnRFLElBRXJCLGVBQXNCZSxFQUFrQkMsT0FBTyxHQUMvQ0QsRUFBa0J6QixLQUFLbUUsa0JBQ3ZCMUMsRUFBa0JDLE1BQU1TLFFBQVF6TCxHQUFLZ0ssRUFBS2hLLEdBRTFDLElBQUssTUFBTWlPLEtBQVNqRSxFQUNILE1BQVRpRSxHQUEwQixRQUFUQSxHQUE0QixXQUFUQSxJQUN4Q2xELEVBQWtCa0QsR0FBT2hHLFlBQWMrQixFQUFLaUUsSUFHaER2QyxFQUFxQlgsRUFBa0I5QixRQUFTZSxFQUFLZixTQUVyRGUsRUFBS1YsS0FBS3NELFNBQVExQyxJQUNkYSxFQUFrQnpCLEtBQUsxRSxZQUFZcUcsRUFBZWYsR0FBSyxJQUkzRCxlQUFzQmEsRUFBa0JDLE1BQU0sRUF3RTlDdUQsdUJBekIyQixLQUMzQixlQUFzQjFELEVBQXFCQSxFQUFvQm5FLFVBQVU4SCxTQUFTLFVBQVUsRUF5QjVGQyxhQXpDaUIsS0FDakIsZUFBc0I5RCxFQUFnQixFQXlDdEMrRCxjQXRDa0IsS0FDbEIsZUFBc0IvRCxHQUFpQixFQUFNLEVBc0M3Q2dFLGlCQW5DcUIsS0FDckIsZUFBc0IvRCxFQUFvQixFQW1DMUNnRSxrQkFqQ3NCLEtBQ3RCLGVBQXNCaEUsR0FBcUIsRUFBTSxFQWlDakRpRSxjQTFCa0IsS0FDbEIsZUFBc0IvRCxFQUFpQixFQTBCdkNnRSxlQXZCbUIsS0FDbkIsZUFBc0JoRSxHQUFrQixFQUFNLEVBeUJyRCxFQW5RWSxFLEdDTFRpRSxFQUEyQixDQUFDLEVBR2hDLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUI5TixJQUFqQitOLEVBQ0gsT0FBT0EsRUFBYWpQLFFBR3JCLElBQUlGLEVBQVNnUCxFQUF5QkUsR0FBWSxDQUNqRGpQLEdBQUlpUCxFQUVKaFAsUUFBUyxDQUFDLEdBT1gsT0FIQWtQLEVBQW9CRixHQUFVbFAsRUFBUUEsRUFBT0UsUUFBUytPLEdBRy9DalAsRUFBT0UsT0FDZixDQ3JCQStPLEVBQW9CSSxFQUFLclAsSUFDeEIsSUFBSXNQLEVBQVN0UCxHQUFVQSxFQUFPdVAsV0FDN0IsSUFBT3ZQLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBaVAsRUFBb0JPLEVBQUVGLEVBQVEsQ0FBRUcsRUFBR0gsSUFDNUJBLENBQU0sRUNMZEwsRUFBb0JPLEVBQUksQ0FBQ3RQLEVBQVN3UCxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hULEVBQW9CVyxFQUFFRixFQUFZQyxLQUFTVixFQUFvQlcsRUFBRTFQLEVBQVN5UCxJQUM1RUUsT0FBT0MsZUFBZTVQLEVBQVN5UCxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNORFYsRUFBb0JXLEVBQUksQ0FBQ2hOLEVBQUtxTixJQUFVSixPQUFPSyxVQUFVQyxlQUFlQyxLQUFLeE4sRUFBS3FOLEdDQWxGaEIsRUFBb0JvQixRQUFLalAsRSwrSENXckJrQixFQUFVLENBQUMsRUFFZkEsRUFBUWdELGtCQUFvQixJQUM1QmhELEVBQVEwQyxjQUFnQixJQUVsQjFDLEVBQVEwQixPQUFTLFNBQWMsS0FBTSxRQUUzQzFCLEVBQVFlLE9BQVMsSUFDakJmLEVBQVErQyxtQkFBcUIsSUFFaEIsSUFBSSxJQUFTL0MsR0FLSixLQUFXLFlBQWlCLFcsc0JDckJsRCxNQUFNZ08sRUFBV0MsRUFBQSxpQkFHWEMsRUFBbUJyRyxHQUFRLEtBQU8sRUFDbENzRyxFQUFvQnhHLEdBQU8sS0FBTXlHLEVBQVlDLFNBQVMxRyxFQUFNLEVBQzVEMkcsRUFBb0IzRyxHQUFPLEtBQzdCNEcsRUFBQSxlQUFrQjVHLEVBQUtoSyxHQUFJc1EsRUFBQSxxQkFBeUJ0RyxFQUFLaEssSUFDNUQsRUFFRDRRLEVBQUEsdUJBQTBCUCxFQUFTL0csS0FBTWlILEdBQ3pDSyxFQUFBLG1CQUFzQlAsRUFBU3JILE1BQU93SCxFQUFrQkcsR0FFeEQsTUFBTUYsRUFBYyxDQUNoQkksU0FBVSxLQUNORCxFQUFBLG1CQUFzQk4sRUFBQSxnQkFBb0J0SCxNQUFPd0gsRUFBa0JHLEdBQ25FaEosUUFBUUMsSUFBSSxrQkFBaUIsRUFFakNrSixPQUFRLEtBQ0pGLEVBQUEsZ0JBQW1CLEVBRXZCbEMsY0FBZSxLQUNYa0MsRUFBQSxpQkFBb0IsRUFFeEJHLFVBQVcsS0FDUCxNQUFNN0csRUFBTW9HLEVBQUEsWUFBZ0JNLEVBQUEsZ0JBQzVCQSxFQUFBLFlBQWUxRyxHQUFLLFNBQ3BCMEcsRUFBQSxpQkFBb0IsRUFFeEJJLFNBQVUsV0FDTjdELFFBQVFDLFFBQVFrRCxFQUFBLGVBQ2ZqRCxNQUFNNEQsSUFDSEwsRUFBQSx1QkFBMEJLLEVBQVEzSCxLQUFNaUgsR0FDeENLLEVBQUEsbUJBQXNCSyxFQUFRakksTUFBT3dILEVBQWtCRyxFQUFpQixHQUVoRixFQUNBTyxRQUFTLEtBQ0xOLEVBQUEseUJBQTRCTixFQUFBLGdCQUFvQmhILE1BQ2hEc0gsRUFBQSxvQkFBdUIsRUFFM0JPLGdCQUFpQixLQUNiUCxFQUFBLDBCQUE2QixFQUVqQ2hDLGtCQUFtQixLQUNmZ0MsRUFBQSxxQkFBd0IsRUFFNUJRLFdBQVksS0FDUixNQUFNcEgsRUFBT3NHLEVBQUEsYUFBaUJNLEVBQUEsNkJBQzlCQSxFQUFBLGFBQWdCNUcsRUFBTXdHLEVBQWlCeEcsR0FBTzJHLEVBQWlCM0csSUFDL0Q0RyxFQUFBLHFCQUF3QixFQUU1QkYsU0FBVSxTQUFTMUcsR0FDZjRHLEVBQUEsZ0JBQW1CNUcsR0FDbkI0RyxFQUFBLGtCQUFxQjVHLEVBQ3pCLEVBQ0FxSCxXQUFZLEtBSWEsRUFFekJDLFVBQVcsS0FDUFYsRUFBQSxrQkFBcUIsRUFFekJyRyxXQUFZLEtBQ1IsTUFBTXZLLEVBQUs0USxFQUFBLDJCQUNYTixFQUFBLGFBQWlCdFEsR0FDakI0USxFQUFBLGFBQWdCNVEsR0FDaEI0USxFQUFBLG1CQUNBakosUUFBUUMsSUFBSTBJLEVBQUEsZ0JBQW9CLEdBR2xDaUIsRUFBcUIsSUFBSUMsSUFBSSxDQUMvQixDQUFDLG9DQUFxQ2YsRUFBWUksVUFDbEQsQ0FBQyxXQUFZSixFQUFZSyxRQUN6QixDQUFDLG9CQUFxQkwsRUFBWU8sVUFDbEMsQ0FBQyxrQkFBbUJQLEVBQVlTLFNBQ2hDLENBQUMsOEJBQStCVCxFQUFZVSxpQkFDNUMsQ0FBQyx5QkFBMEJWLEVBQVk3QixtQkFDdkMsQ0FBQyx5QkFBMEI2QixFQUFZVyxZQUN2QyxDQUFDLDJCQUE0QlgsRUFBWWEsV0FDekMsQ0FBQyxzQkFBdUJiLEVBQVlsRyxZQUNwQyxDQUFDLHFCQUFzQmtHLEVBQVkvQixlQUNuQyxDQUFDLHFCQUFzQitCLEVBQVlNLFdBQ25DLENBQUMsMEJBQTJCTixFQUFZL0IsaUJBSXRDK0MsRUFBa0JDLE1BQU1DLEtBQUtKLEdBQW9CbkssR0FBU0EsRUFBTSxLQUN0RXdKLEVBQUEsZ0JBQW1CYSxHQUFpQnBFLE1BQUt1RSxJQUNyQyxJQUFLLElBQUkvUSxFQUFFLEVBQUdBLEVBQUU0USxFQUFnQjlRLE9BQVFFLElBQ3BDK1EsRUFBZS9RLEdBQUdtRyxpQkFBaUIsUUFBU3VLLEVBQW1CeEIsSUFBSTBCLEVBQWdCNVEsSUFDdkYsSUFHSjhHLFFBQVFDLElBQUl5SSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL3RvLWRvLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly90by1kby8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL3RvLWRvLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3RvLWRvLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly90by1kby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly90by1kby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly90by1kby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL3RvLWRvLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvZG9tTWFuYWdlci5qcyIsIndlYnBhY2s6Ly90by1kby8uL3NyYy9sb2NhbERhdGFIYW5kbGVyLmpzIiwid2VicGFjazovL3RvLWRvLy4vc3JjL21vZGVsLmpzIiwid2VicGFjazovL3RvLWRvLy4vc3JjL3ZpZXcuanMiLCJ3ZWJwYWNrOi8vdG8tZG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG8tZG8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdG8tZG8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvLWRvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdG8tZG8vd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL3RvLWRvLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL3RvLWRvLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3Qge1xcbiAgICAtLWJvZHktY29sb3I6ICM1MjYzNjg7XFxuICAgIC0tc3ViLWNvbG9yOiAjMWUyZjM5O1xcbiAgICAtLWxpZ2h0LXN1Yi1jb2xvcjogIzQwNTI1ODtcXG4gICAgLS1hY2NlbnQtY29sb3I6ICM5NjhhN2Q7XFxuICAgIC0tZGFyay1hY2NlbnQtY29sb3I6ICM4MDY3NDI7XFxuICAgIC0tdGV4dC1jb2xvcjogI2U0ZTFjZjtcXG59XFxuXFxuKiB7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgcGFkZGluZzogMDtcXG59XFxuXFxuLmhpZGRlbiB7XFxuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcXG59XFxuXFxuYm9keSB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMTVyZW0gMWZyO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDMuNXJlbSBjYWxjKDEwMHZoIC0gMy41cmVtKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYm9keS1jb2xvcik7XFxuICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcXG59XFxuXFxubGkge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBsaXN0LXN0eWxlOiBub25lO1xcbn1cXG5cXG4vKiBwcmVjZWRpbmcgaWNvbiBjbGFzc2VzICovXFxuLmljb24ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBnYXA6IDAuNXJlbTtcXG59XFxuXFxuc3ZnIHtcXG4gICAgd2lkdGg6IDJlbTtcXG4gICAgaGVpZ2h0OiAyZW07XFxufVxcblxcbi50YWcgc3ZnIHtcXG4gICAgd2lkdGg6IDFlbTtcXG4gICAgaGVpZ2h0OiAxZW07XFxufVxcblxcbi8qIGhlYWRlciAqL1xcbmhlYWRlciB7XFxuICAgIGdyaWQtYXJlYTogMS8xLzEvMztcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3ViLWNvbG9yKTtcXG59XFxuXFxuLyogc2lkZSBtZW51Ki9cXG5uYXYge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG87XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogMnJlbSBhdXRvIDNyZW0gM3JlbSAxZnIgNXJlbTtcXG4gICAgcGFkZGluZy1sZWZ0OiAycmVtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC1zdWItY29sb3IpO1xcbn1cXG5cXG5uYXYgLmljb24ge1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICBmb250LXNpemU6IDFyZW07XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XFxuICAgIGZpbGw6IHZhcigtLXRleHQtY29sb3IpO1xcbn1cXG5cXG4ubWVudS10aW1lLW9wdGlvbnMgbGkge1xcbiAgICBwYWRkaW5nOiAwO1xcbn1cXG5cXG5uYXYgaW5wdXQge1xcbiAgICBwYWRkaW5nOiAwLjVyZW07XFxuICAgIHdpZHRoOiA2MCU7ICBcXG4gICAgY29sb3I6dmFyKC0tdGV4dC1jb2xvcilcXG59XFxuXFxubmF2IC50YWcgcCB7XFxuICAgIHdpZHRoOiA2MCU7XFxufVxcblxcbi50YWctbGlzdCBsaSB7XFxuICAgIHBhZGRpbmc6IDAuNWVtIDAgMC41ZW0gMmVtO1xcbn1cXG5cXG4vKiBtYWluIGNvbnRlbnQgKi9cXG5tYWluIHtcXG4gICAgcGFkZGluZzogMnJlbSA0cmVtO1xcbiAgICBvdmVyZmxvdzogYXV0bztcXG59XFxuXFxuaW5wdXQge1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG4udGFzay1saXN0LWhlYWQge1xcbiAgICBkaXNwbGF5OmZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5kaXZpZGVyIHtcXG4gICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYWNjZW50LWNvbG9yKTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMDtcXG4gICAgbWFyZ2luLWxlZnQ6IDFyZW07XFxufVxcblxcbi50YXNrLWNyZWF0aW9uIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxMHJlbSA4cmVtIDdyZW0gYXV0byA2cmVtIDZyZW07XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogM3JlbSAzcmVtIDNyZW07XFxuICAgIGJvcmRlcjogM3B4IHNvbGlkIHZhcigtLXN1Yi1jb2xvcik7XFxuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDExIDIyIDMzIC8gNDQlKTtcXG4gICAgXFxufVxcblxcbi50YXNrLWNyZWF0aW9uIGlucHV0OjpwbGFjZWhvbGRlciB7XFxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcXG59XFxuXFxuLnRhc2stY3JlYXRpb24gc2VsZWN0LCAudGFzay1jcmVhdGlvbiBpbnB1dFt0eXBlPWRhdGVdLCAudGFzay1jcmVhdGlvbiAudGFnLWdyb3VwIHtcXG4gICAgbWFyZ2luOiA2cHg7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tdGV4dC1jb2xvcik7XFxuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDkyIDEwNSAxMDcgLyA1MSUpO1xcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XFxufVxcblxcbi50YXNrLWNyZWF0aW9uIHAsIC50YXNrLWNyZWF0aW9uIGxpIHtcXG4gICAgcGFkZGluZzogMC41cmVtO1xcbiAgICBmb250LXNpemU6IDAuOXJlbTtcXG59XFxuXFxuLnRhc2stY3JlYXRpb24gbGkge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWUyZjM5O1xcbn1cXG5cXG4udGFzay1jcmVhdGlvbiBpbnB1dFt0eXBlPWNoZWNrYm94XSB7XFxuICAgIG1hcmdpbi1yaWdodDogMC41cmVtO1xcbn1cXG5cXG4udGFzay1jcmVhdGlvbiBvcHRpb24ge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdWItY29sb3IpO1xcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XFxufVxcblxcbi50YXNrLWNyZWF0aW9uIGJ1dHRvbiB7XFxuICAgIG1hcmdpbjogNnB4O1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcXG59XFxuXFxuLnRhc2stZW50cnkge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDJyZW0gYXV0bztcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvO1xcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XFxufVxcblxcbi50YXNrLWVudHJ5IGJ1dHRvbiB7XFxuICAgIGdyaWQtYXJlYTogMS8xLzMvMTtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBmaWxsOiB2YXIoLS1zdWItY29sb3IpO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuXFxuLnRhZy1ncm91cCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtd3JhcDogd3JhcDtcXG4gICAgZ2FwOiAwLjVyZW07XFxuICAgIHBhZGRpbmc6IDFyZW0gMCAwIDA7XFxufVxcblxcbm1haW4gLmljb24ge1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICBmb250LXNpemU6IDFyZW07XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XFxuICAgIGZpbGw6IHZhcigtLXRleHQtY29sb3IpO1xcbn1cXG5cXG5cXG4vKiB0YXNrIG1vZGFsICovXFxuLnRhc2stbW9kYWwtd3JhcHBlciwgLnRhZy1tb2RhbC13cmFwcGVyIHtcXG4gICAgcG9zaXRpb246Zml4ZWQ7XFxuICAgIHdpZHRoOiAxMDB2dztcXG4gICAgaGVpZ2h0OiAxMDB2aDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjMpO1xcbn1cXG5cXG4udGFzay1tb2RhbCwgLnRhZy1tb2RhbCB7XFxuICAgIHBvc2l0aW9uOiBpbmhlcml0O1xcbiAgICAtLW1vZGFsLXdpZHRoOiAzMDBweDtcXG4gICAgLS1tb2RhbC1oZWlnaHQ6IDMwMHB4O1xcbiAgICB3aWR0aDogdmFyKC0tbW9kYWwtd2lkdGgpO1xcbiAgICBoZWlnaHQ6IHZhcigtLW1vZGFsLWhlaWdodCk7XFxuICAgIGJvdHRvbTogY2FsYyg1MCUgLSB2YXIoLS1tb2RhbC1oZWlnaHQpLzIpO1xcbiAgICByaWdodDogY2FsYyg1MCUgLSB2YXIoLS1tb2RhbC13aWR0aCkvMik7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7XFxuICAgIHBhZGRpbmc6IDNyZW07XFxufVxcblxcbi5jbG9zZSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDAuNXJlbTtcXG4gICAgdG9wOiAwLjVyZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIHBhZGRpbmc6IDA7XFxufVxcblxcbi50YXNrLW1vZGFsIGlucHV0LCAudGFzay1tb2RhbCB0ZXh0YXJlYSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0kscUJBQXFCO0lBQ3JCLG9CQUFvQjtJQUNwQiwwQkFBMEI7SUFDMUIsdUJBQXVCO0lBQ3ZCLDRCQUE0QjtJQUM1QixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxTQUFTO0lBQ1QsVUFBVTtBQUNkOztBQUVBO0lBQ0ksd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGdDQUFnQztJQUNoQywrQ0FBK0M7SUFDL0MsbUNBQW1DO0lBQ25DLDREQUE0RDtBQUNoRTs7QUFFQTtJQUNJLGFBQWE7SUFDYixnQkFBZ0I7QUFDcEI7O0FBRUEsMkJBQTJCO0FBQzNCO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksVUFBVTtJQUNWLFdBQVc7QUFDZjs7QUFFQSxXQUFXO0FBQ1g7SUFDSSxrQkFBa0I7SUFDbEIsa0NBQWtDO0FBQ3RDOztBQUVBLGFBQWE7QUFDYjtJQUNJLGFBQWE7SUFDYiwyQkFBMkI7SUFDM0IsZ0RBQWdEO0lBQ2hELGtCQUFrQjtJQUNsQix3Q0FBd0M7QUFDNUM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osNkJBQTZCO0lBQzdCLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsd0JBQXdCO0lBQ3hCLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGVBQWU7SUFDZixVQUFVO0lBQ1Y7QUFDSjs7QUFFQTtJQUNJLFVBQVU7QUFDZDs7QUFFQTtJQUNJLDBCQUEwQjtBQUM5Qjs7QUFFQSxpQkFBaUI7QUFDakI7SUFDSSxrQkFBa0I7SUFDbEIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLFlBQVk7SUFDWiw2QkFBNkI7QUFDakM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0kscUNBQXFDO0lBQ3JDLFdBQVc7SUFDWCxTQUFTO0lBQ1QsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHFEQUFxRDtJQUNyRCxrQ0FBa0M7SUFDbEMsa0NBQWtDO0lBQ2xDLGtCQUFrQjtJQUNsQixxQ0FBcUM7O0FBRXpDOztBQUVBO0lBQ0ksd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksV0FBVztJQUNYLFVBQVU7SUFDVixlQUFlO0lBQ2YsbUNBQW1DO0lBQ25DLGtCQUFrQjtJQUNsQix1Q0FBdUM7SUFDdkMsd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLGtDQUFrQztJQUNsQyx3QkFBd0I7QUFDNUI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixnQ0FBZ0M7SUFDaEMsd0JBQXdCO0lBQ3hCLHdCQUF3QjtBQUM1Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osc0JBQXNCO0lBQ3RCLDZCQUE2QjtBQUNqQzs7QUFFQTtJQUNJLGFBQWE7SUFDYixlQUFlO0lBQ2YsV0FBVztJQUNYLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWiw2QkFBNkI7SUFDN0IsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQix3QkFBd0I7SUFDeEIsdUJBQXVCO0FBQzNCOzs7QUFHQSxlQUFlO0FBQ2Y7SUFDSSxjQUFjO0lBQ2QsWUFBWTtJQUNaLGFBQWE7SUFDYixpQ0FBaUM7QUFDckM7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLHFCQUFxQjtJQUNyQix5QkFBeUI7SUFDekIsMkJBQTJCO0lBQzNCLHlDQUF5QztJQUN6Qyx1Q0FBdUM7SUFDdkMscUNBQXFDO0lBQ3JDLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLFdBQVc7SUFDWCw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLFVBQVU7QUFDZDs7QUFFQTtJQUNJLDZCQUE2QjtBQUNqQ1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCI6cm9vdCB7XFxuICAgIC0tYm9keS1jb2xvcjogIzUyNjM2ODtcXG4gICAgLS1zdWItY29sb3I6ICMxZTJmMzk7XFxuICAgIC0tbGlnaHQtc3ViLWNvbG9yOiAjNDA1MjU4O1xcbiAgICAtLWFjY2VudC1jb2xvcjogIzk2OGE3ZDtcXG4gICAgLS1kYXJrLWFjY2VudC1jb2xvcjogIzgwNjc0MjtcXG4gICAgLS10ZXh0LWNvbG9yOiAjZTRlMWNmO1xcbn1cXG5cXG4qIHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbn1cXG5cXG4uaGlkZGVuIHtcXG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxNXJlbSAxZnI7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogMy41cmVtIGNhbGMoMTAwdmggLSAzLjVyZW0pO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ib2R5LWNvbG9yKTtcXG4gICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmO1xcbn1cXG5cXG5saSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcblxcbi8qIHByZWNlZGluZyBpY29uIGNsYXNzZXMgKi9cXG4uaWNvbiB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGdhcDogMC41cmVtO1xcbn1cXG5cXG5zdmcge1xcbiAgICB3aWR0aDogMmVtO1xcbiAgICBoZWlnaHQ6IDJlbTtcXG59XFxuXFxuLnRhZyBzdmcge1xcbiAgICB3aWR0aDogMWVtO1xcbiAgICBoZWlnaHQ6IDFlbTtcXG59XFxuXFxuLyogaGVhZGVyICovXFxuaGVhZGVyIHtcXG4gICAgZ3JpZC1hcmVhOiAxLzEvMS8zO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdWItY29sb3IpO1xcbn1cXG5cXG4vKiBzaWRlIG1lbnUqL1xcbm5hdiB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0bztcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAycmVtIGF1dG8gM3JlbSAzcmVtIDFmciA1cmVtO1xcbiAgICBwYWRkaW5nLWxlZnQ6IDJyZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0LXN1Yi1jb2xvcik7XFxufVxcblxcbm5hdiAuaWNvbiB7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgIGZvbnQtc2l6ZTogMXJlbTtcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcXG4gICAgZmlsbDogdmFyKC0tdGV4dC1jb2xvcik7XFxufVxcblxcbi5tZW51LXRpbWUtb3B0aW9ucyBsaSB7XFxuICAgIHBhZGRpbmc6IDA7XFxufVxcblxcbm5hdiBpbnB1dCB7XFxuICAgIHBhZGRpbmc6IDAuNXJlbTtcXG4gICAgd2lkdGg6IDYwJTsgIFxcbiAgICBjb2xvcjp2YXIoLS10ZXh0LWNvbG9yKVxcbn1cXG5cXG5uYXYgLnRhZyBwIHtcXG4gICAgd2lkdGg6IDYwJTtcXG59XFxuXFxuLnRhZy1saXN0IGxpIHtcXG4gICAgcGFkZGluZzogMC41ZW0gMCAwLjVlbSAyZW07XFxufVxcblxcbi8qIG1haW4gY29udGVudCAqL1xcbm1haW4ge1xcbiAgICBwYWRkaW5nOiAycmVtIDRyZW07XFxuICAgIG92ZXJmbG93OiBhdXRvO1xcbn1cXG5cXG5pbnB1dCB7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcblxcbi50YXNrLWxpc3QtaGVhZCB7XFxuICAgIGRpc3BsYXk6ZmxleDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLmRpdmlkZXIge1xcbiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1hY2NlbnQtY29sb3IpO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAwO1xcbiAgICBtYXJnaW4tbGVmdDogMXJlbTtcXG59XFxuXFxuLnRhc2stY3JlYXRpb24ge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDEwcmVtIDhyZW0gN3JlbSBhdXRvIDZyZW0gNnJlbTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAzcmVtIDNyZW0gM3JlbTtcXG4gICAgYm9yZGVyOiAzcHggc29saWQgdmFyKC0tc3ViLWNvbG9yKTtcXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTEgMjIgMzMgLyA0NCUpO1xcbiAgICBcXG59XFxuXFxuLnRhc2stY3JlYXRpb24gaW5wdXQ6OnBsYWNlaG9sZGVyIHtcXG4gICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xcbn1cXG5cXG4udGFzay1jcmVhdGlvbiBzZWxlY3QsIC50YXNrLWNyZWF0aW9uIGlucHV0W3R5cGU9ZGF0ZV0sIC50YXNrLWNyZWF0aW9uIC50YWctZ3JvdXAge1xcbiAgICBtYXJnaW46IDZweDtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS10ZXh0LWNvbG9yKTtcXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoOTIgMTA1IDEwNyAvIDUxJSk7XFxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcXG59XFxuXFxuLnRhc2stY3JlYXRpb24gcCwgLnRhc2stY3JlYXRpb24gbGkge1xcbiAgICBwYWRkaW5nOiAwLjVyZW07XFxuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xcbn1cXG5cXG4udGFzay1jcmVhdGlvbiBsaSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxZTJmMzk7XFxufVxcblxcbi50YXNrLWNyZWF0aW9uIGlucHV0W3R5cGU9Y2hlY2tib3hdIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XFxufVxcblxcbi50YXNrLWNyZWF0aW9uIG9wdGlvbiB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN1Yi1jb2xvcik7XFxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcXG59XFxuXFxuLnRhc2stY3JlYXRpb24gYnV0dG9uIHtcXG4gICAgbWFyZ2luOiA2cHg7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xcbn1cXG5cXG4udGFzay1lbnRyeSB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMnJlbSBhdXRvO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG87XFxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcXG59XFxuXFxuLnRhc2stZW50cnkgYnV0dG9uIHtcXG4gICAgZ3JpZC1hcmVhOiAxLzEvMy8xO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGZpbGw6IHZhcigtLXN1Yi1jb2xvcik7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG4udGFnLWdyb3VwIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcbiAgICBnYXA6IDAuNXJlbTtcXG4gICAgcGFkZGluZzogMXJlbSAwIDAgMDtcXG59XFxuXFxubWFpbiAuaWNvbiB7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgIGZvbnQtc2l6ZTogMXJlbTtcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcXG4gICAgZmlsbDogdmFyKC0tdGV4dC1jb2xvcik7XFxufVxcblxcblxcbi8qIHRhc2sgbW9kYWwgKi9cXG4udGFzay1tb2RhbC13cmFwcGVyLCAudGFnLW1vZGFsLXdyYXBwZXIge1xcbiAgICBwb3NpdGlvbjpmaXhlZDtcXG4gICAgd2lkdGg6IDEwMHZ3O1xcbiAgICBoZWlnaHQ6IDEwMHZoO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuMyk7XFxufVxcblxcbi50YXNrLW1vZGFsLCAudGFnLW1vZGFsIHtcXG4gICAgcG9zaXRpb246IGluaGVyaXQ7XFxuICAgIC0tbW9kYWwtd2lkdGg6IDMwMHB4O1xcbiAgICAtLW1vZGFsLWhlaWdodDogMzAwcHg7XFxuICAgIHdpZHRoOiB2YXIoLS1tb2RhbC13aWR0aCk7XFxuICAgIGhlaWdodDogdmFyKC0tbW9kYWwtaGVpZ2h0KTtcXG4gICAgYm90dG9tOiBjYWxjKDUwJSAtIHZhcigtLW1vZGFsLWhlaWdodCkvMik7XFxuICAgIHJpZ2h0OiBjYWxjKDUwJSAtIHZhcigtLW1vZGFsLXdpZHRoKS8yKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTtcXG4gICAgcGFkZGluZzogM3JlbTtcXG59XFxuXFxuLmNsb3NlIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICByaWdodDogMC41cmVtO1xcbiAgICB0b3A6IDAuNXJlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgcGFkZGluZzogMDtcXG59XFxuXFxuLnRhc2stbW9kYWwgaW5wdXQsIC50YXNrLW1vZGFsIHRleHRhcmVhIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcblxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8qXG5cbk1vZHVsZSBmb3IgaGFuZGxpbmcgcmVkdW5kYW50IERPTSB0YXNrcy5cblxuKi9cbmNvbnN0IGRvbU1hbmFnZXIgPSAoKCk9PntcbiAgICBmdW5jdGlvbiBxdWVyeShzZWxlY3RvcikgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7IH1cbiAgICBmdW5jdGlvbiBxdWVyeUFsbChzZWxlY3RvcikgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7IH1cbiAgICBjb25zdCBlbGVtZW50RXhpc3RzID0gKHNlbGVjdG9yKSA9PiBxdWVyeShzZWxlY3RvcikgIT0gbnVsbDtcbiAgICBjb25zdCBxdWVyeUlmU2VsZWN0b3IgPSAoc2VsZWN0b3IpPT57IHJldHVybiB0eXBlb2Ygc2VsZWN0b3IgPT0gXCJzdHJpbmdcIiA/IHF1ZXJ5KHNlbGVjdG9yKSA6IHNlbGVjdG9yOyB9O1xuICAgIFxuICAgIGNvbnN0IGNyZWF0ZVNWR0VsZW1lbnQgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCAnc3ZnJyk7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCAncGF0aCcpO1xuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZShcImRcIiwgZGF0YS5wYXRoKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdib3hcIiwgXCIwIDAgMjQgMjRcIik7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoKTtcbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Q2xpY2sgPSBmdW5jdGlvbihlbGVtZW50U2VsZWN0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBxdWVyeShlbGVtZW50U2VsZWN0b3IpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldFZpc2libGUgPSAoc2VsZWN0b3IsIHZpc2libGUgPSB0cnVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRDbGFzc0xpc3QgPSBxdWVyeUlmU2VsZWN0b3Ioc2VsZWN0b3IpLmNsYXNzTGlzdDtcbiAgICAgICAgdmlzaWJsZSA/IGVsZW1lbnRDbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpIDogZWxlbWVudENsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgfVxuICAgIGNvbnN0IG1vdmVEb3duID0gKHNlbGVjdG9yKT0+e1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gcXVlcnkoc2VsZWN0b3IpO1xuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFkZEVudHJ5T2ZUZW1wbGF0ZSA9IGZ1bmN0aW9uKHRlbXBsYXRlU2VsZWN0b3IsIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IGVudHJ5VGVtcGxhdGUgPSBxdWVyeSh0ZW1wbGF0ZVNlbGVjdG9yKTtcbiAgICAgICAgY29uc3QgZW50cnkgPSBlbnRyeVRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcXVlcnkoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgICAgICBlbnRyeS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgfTtcblxuICAgIC8vIFJldHVybnMgdGhlIGlucHV0IGVsZW1lbnRcbiAgICAvLyBjYWxsYmFjayBtdXN0IGhhdmUgb25lIGFyZyB0byBwYXNzIHRleHRcbiAgICBjb25zdCBhZGRUZW1wb3JhcnlJbnB1dCA9IGZ1bmN0aW9uKGVsZW1lbnRTZWxlY3RvciwgY29udGFpbmVyU2VsZWN0b3IsIGlucHV0U3R5bGUgPSBcIlwiKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHF1ZXJ5KGVsZW1lbnRTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHF1ZXJ5KGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICAgICAgaWYgKCEoZWxlbWVudCB8fCBjb250YWluZXIpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBmaW5kIGVsZW1lbnQgb3IgY29udGFpbmVyXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0LnN0eWxlICs9IGlucHV0U3R5bGU7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgaW5wdXQuc2VsZWN0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3dhcHBlZCBvdXQgaW5wdXQuXCIpXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBjb25zdCBzd2FwSW5wdXRXaXRoVGV4dCA9IGZ1bmN0aW9uKGlucHV0LCB0ZXh0U2VsZWN0b3IsIHJlbW92ZUlucHV0PWZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBxdWVyeSh0ZXh0U2VsZWN0b3IpO1xuICAgICAgICB0ZXh0LnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7XG4gICAgICAgIHRleHQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICAgICAgaWYgKHJlbW92ZUlucHV0KSB7XG4gICAgICAgICAgICBpbnB1dC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeSwgXG4gICAgICAgIHF1ZXJ5QWxsLCBcbiAgICAgICAgY3JlYXRlU1ZHRWxlbWVudCwgXG4gICAgICAgIHNldFZpc2libGUsIFxuICAgICAgICBtb3ZlRG93biwgXG4gICAgICAgIHNldENsaWNrLCBcbiAgICAgICAgYWRkRW50cnlPZlRlbXBsYXRlLCBcbiAgICAgICAgYWRkVGVtcG9yYXJ5SW5wdXQsIFxuICAgICAgICBzd2FwSW5wdXRXaXRoVGV4dCwgXG4gICAgICAgIGVsZW1lbnRFeGlzdHNcbiAgICB9O1xufSkoKTtcbmV4cG9ydCBkZWZhdWx0IGRvbU1hbmFnZXI7IiwiLypcbk1vZHVsZSBmb3IgaGFuZGxpbmcgb3BlcmF0aW9ucyBmb3IgbG9jYWwgc3RvcmFnZSBkYXRhXG5IYW5kbGVzIHJldHJpZXZpbmcgYW5kIHNhdmluZyBkYXRhIGZyb20gbG9jYWwgc3RvcmFnZS4gXG4qL1xuY29uc3QgbG9jYWxEYXRhSGFuZGxlciA9ICgoKT0+e1xuICAgIFxuICAgIGZ1bmN0aW9uIGhhc0V4aXN0aW5nRGF0YSgpIHsgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZGF0YSB8fCBmYWxzZTsgfVxuICAgIGZ1bmN0aW9uIGdldERhdGFDb3B5KCkgeyByZXR1cm4gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmRhdGEpIHx8IG51bGw7IH1cblxuICAgIC8vIENoZWNrcyBpZiBsb2NhbCBzdG9yYWdlIGNhbiBiZSB1c2VkXG4gICAgZnVuY3Rpb24gc3RvcmFnZUF2YWlsYWJsZSh0eXBlKSB7XG4gICAgICAgIGxldCBzdG9yYWdlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3RvcmFnZSA9IHdpbmRvd1t0eXBlXTtcbiAgICAgICAgICAgIGNvbnN0IHggPSAnX19zdG9yYWdlX3Rlc3RfXyc7XG4gICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oeCwgeCk7XG4gICAgICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICAgICAgICBlLmNvZGUgPT09IDIyIHx8XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgICAgICAgIGUuY29kZSA9PT0gMTAxNCB8fFxuICAgICAgICAgICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxuICAgICAgICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICAgICAgICBlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgICAgICAgIGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykgJiZcbiAgICAgICAgICAgICAgICAvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxuICAgICAgICAgICAgICAgIChzdG9yYWdlICYmIHN0b3JhZ2UubGVuZ3RoICE9PSAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlc2V0IGRhdGEgc2Vzc2lvbiBhbmQgbG9jYWxseVxuICAgIGNvbnN0IGNsZWFyID0gKCkgPT4ge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2xlYXJlZCBsb2NhbCBkYXRhLlwiKVxuICAgIH07XG5cbiAgICAvLyBTYXZlIGdpdmVuIGRhdGEgb2JqZWN0IGludG8gbG9jYWwgc3RvcmFnZVxuICAgIGNvbnN0IHNhdmUgPSAodGFyZ2V0RGF0YSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHRhcmdldERhdGEgIT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IHNhdmUgZGF0YSBiZWNhdXNlIHRhcmdldCBkYXRhIGlzbid0IGFuIE9iamVjdFwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGF0YScsIEpTT04uc3RyaW5naWZ5KHRhcmdldERhdGEpKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJTYXZlZCBkYXRhLlwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge3NhdmUsIGNsZWFyLCBoYXNFeGlzdGluZ0RhdGEsIGdldERhdGFDb3B5fTtcblxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgbG9jYWxEYXRhSGFuZGxlcjsiLCJpbXBvcnQgbG9jYWxEYXRhSGFuZGxlciBmcm9tIFwiLi9sb2NhbERhdGFIYW5kbGVyLmpzXCI7XG4vKlxuXG5Nb2RlbCBtb2R1bGVcbi0gSGFuZGxlcyBzZXNzaW9uIGFuZCBsb2NhbCBkYXRhIGxvZ2ljXG4tIFJldHVybnMgcmVxdWVzdHMgZm9yIGRhdGFcbiovXG5jb25zdCBtb2RlbCA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5pdGlhbERhdGEgPSB7XG4gICAgICAgIHZlcnNpb246IFwiMC4yLjBcIixcbiAgICAgICAgdXNlcjogXCJHdWVzdFwiLFxuICAgICAgICB0YXNrczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAwLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkFkZCBOZXcgVGFza1wiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlByZXNzaW5nIFxcXCJBZGQgVGFza1xcXCIgYXQgdGhlIGJvdHRvbSBhZGRzIGEgbmV3IHRhc2suXCIsXG4gICAgICAgICAgICAgICAgZGVhZGxpbmU6IFwiXCIsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IFwiTm9uZVwiLFxuICAgICAgICAgICAgICAgIHRhZ3M6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOlwiV29ya1wiLCBjb2xvcjpcIiMwMDAwMDBcIiB9ICAgIFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiQWRkIE5ldyBUYWdcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJQcmVzc2luZyBcXFwiQWRkIFRhZ1xcXCIgb24gdGhlIHNpZGUgbWVudSBsZXRzIHlvdSBhZGQgYSBuZXcgdGFnLlwiLFxuICAgICAgICAgICAgICAgIGRlYWRsaW5lOiBcIlwiLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBcIk5vbmVcIixcbiAgICAgICAgICAgICAgICB0YWdzOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTpcIldvcmtcIiwgY29sb3I6XCIjMDAwMDAwXCIgfSAgICBcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHRhZ3M6IFtcbiAgICAgICAgICAgIHsgbmFtZTpcIldvcmtcIiwgY29sb3I6XCIjMDAwMDAwXCIgfSwgXG4gICAgICAgICAgICB7IG5hbWU6XCJIb2JieVwiLCBjb2xvcjpcIiMwMDAwMDBcIiB9LCBcbiAgICAgICAgICAgIHsgbmFtZTpcIlNob3BwaW5nXCIsIGNvbG9yOlwiIzAwMDAwMFwiIH1cbiAgICAgICAgXSxcbiAgICAgICAgLy8gTmV3IGNvbG9ycyBtdXN0IGJlIGFwcGVuZGVkIHRvIHByZXZlbnQgb3JkZXIgZnJvbSBiZWluZyBpbnRlcmZlcmVkXG4gICAgICAgIHRhZ0NvbG9yczogW1wiI2RkNDI0MlwiLCBcIiM3YWJiNDZcIiwgXCIjM2Q5NWUyXCJdXG4gICAgfTtcblxuICAgIGxldCBzZXNzaW9uRGF0YTtcbiAgICBjb25zdCBnZXROZXh0VGFza0lkID0gKCkgPT4gIXNlc3Npb25EYXRhLnRhc2tzID8gMCA6IHNlc3Npb25EYXRhLnRhc2tzW3Nlc3Npb25EYXRhLnRhc2tzLmxlbmd0aC0xXS5pZCArIDE7XG4gICAgY29uc3QgZ2V0VGFza0J5SWQgPSAoaWQpID0+IGdldERhdGFDb3B5KCkudGFza3MuZmluZCh0YXNrID0+IHRhc2suaWQgPT0gaWQpO1xuICAgIGNvbnN0IGdldERhdGFDb3B5ID0gKCkgPT4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzZXNzaW9uRGF0YSkpO1xuICAgIGNvbnN0IGdldERlZmF1bHREYXRhQ29weSA9ICgpID0+IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaW5pdGlhbERhdGEpKTtcbiAgICBjb25zdCBzYXZlVG9Mb2NhbCA9ICgpID0+IGxvY2FsRGF0YUhhbmRsZXIuc2F2ZShzZXNzaW9uRGF0YSk7XG5cbiAgICBjb25zdCByZXRyaWV2ZUFuZFVwZGF0ZSA9IChwcmV2aW91c0RhdGEpID0+IHtcbiAgICAgICAgaWYgKHByZXZpb3VzRGF0YS52ZXJzaW9uID09IGluaXRpYWxEYXRhLnZlcnNpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyBtb3N0IHVwZGF0ZWQgdmVyc2lvbiAke2luaXRpYWxEYXRhLnZlcnNpb259YClcbiAgICAgICAgICAgIHNlc3Npb25EYXRhID0gcHJldmlvdXNEYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluaXRpYWxEYXRhLnZlcnNpb25bMF0gPT0gXCIxXCIpIHtcbiAgICAgICAgICAgIC8vIGlmIHB1YmxpYywgaGFuZGxlIHVwZGF0ZSB0byBkYXRhIGJhc2VkIG9uIHRoZSB0cmFuc2l0aW9ucyBmcm9tIHRoZSBwcmV2aW91cyB2ZXJzaW9uIHRvIG5ld1xuICAgICAgICAgICAgc2Vzc2lvbkRhdGEgPSBwcmV2aW91c0RhdGE7XG4gICAgICAgICAgICAvLyB1cGRhdGUgbmV3IGNoYW5nZXMgdG8gdGhlIG1vZGVsIGhlcmVcbiAgICAgICAgICAgIHNlc3Npb25EYXRhLnZlcnNpb24gPSBpbml0aWFsRGF0YS52ZXJzaW9uO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFVwZGF0ZWQgdG8gbGF0ZXN0IHZlcnNpb24gJHtpbml0aWFsRGF0YS52ZXJzaW9ufWApXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB3aGlsZSBpbiBiZXRhIHZlcnNpb24sIHJlc2V0IGRhdGEgdG8gZGVmYXVsdCB3aGVuZXZlciB0aGVyZSdzIGFuIHVwZGF0ZVxuICAgICAgICAgICAgc2Vzc2lvbkRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGluaXRpYWxEYXRhKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUmVzZXRpbmcgZGF0YSBkdWUgdG8gbmV3IHVwZGF0ZS4gVXBkYXRlZCB0byB2ZXJzaW9uICR7aW5pdGlhbERhdGEudmVyc2lvbn1gKTsgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgcmV0dXJuIGdldERhdGFDb3B5KCk7XG4gICAgfVxuXG4gICAgY29uc3QgbG9hZFVzZXJEYXRhID0gKCk9PntcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXRyaWV2aW5nIHVzZXIgZGF0YVwiKTtcbiAgICAgICAgcmV0dXJuIGxvY2FsRGF0YUhhbmRsZXIuaGFzRXhpc3RpbmdEYXRhKCkgPyByZXRyaWV2ZUFuZFVwZGF0ZShsb2NhbERhdGFIYW5kbGVyLmdldERhdGFDb3B5KCkpIDogZ2V0RGVmYXVsdERhdGFDb3B5KCk7XG4gICAgfVxuXG4gICAgY29uc3QgYWRkTmV3VGFnID0gKHRhZykgPT4ge1xuICAgICAgICBpZiAoIXRhZ1tcIm5hbWVcIl0gfHwgIXRhZ1tcImNvbG9yXCJdKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXh0cmFjdGVkIGludmFsaWQgdGFnIGZvcm1hdFwiKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHNlc3Npb25EYXRhLnRhZ3MucHVzaCh0YWcpO1xuICAgICAgICBzYXZlVG9Mb2NhbCgpO1xuICAgICAgICByZXR1cm4gdGFnO1xuICAgIH1cblxuICAgIGNvbnN0IGFkZE5ld1Rhc2sgPSAodGFzaykgPT4ge1xuICAgICAgICBpZiAoISgodHlwZW9mIHRhc2tbXCJpZFwiXSA9PSBcIm51bWJlclwiKSBcbiAgICAgICAgJiYgKHRhc2tbXCJjaGVja2VkXCJdICE9IG51bGwpIFxuICAgICAgICAmJiAodHlwZW9mIHRhc2tbXCJ0aXRsZVwiXSA9PSBcInN0cmluZ1wiKSBcbiAgICAgICAgJiYgKHR5cGVvZiB0YXNrW1wiZGVzY3JpcHRpb25cIl0gPT0gXCJzdHJpbmdcIikgXG4gICAgICAgICYmICh0eXBlb2YgdGFza1tcImRlYWRsaW5lXCJdID09IFwic3RyaW5nXCIpIFxuICAgICAgICAmJiAodHlwZW9mIHRhc2tbXCJwcmlvcml0eVwiXSA9PSBcInN0cmluZ1wiKSBcbiAgICAgICAgJiYgdGFza1tcInRhZ3NcIl0pKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXh0cmFjdGVkIGludmFsaWQgdGFzayBmb3JtYXRcIik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0YXNrW1wiaWRcIl0gPSBnZXROZXh0VGFza0lkKCk7XG4gICAgICAgIHNlc3Npb25EYXRhLnRhc2tzLnB1c2godGFzayk7XG4gICAgICAgIHNhdmVUb0xvY2FsKCk7XG4gICAgICAgIHJldHVybiB0YXNrO1xuICAgIH1cblxuICAgIGNvbnN0IHRvZ2dsZUNoZWNrT2ZmVGFzayA9IChpZCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrID0gc2Vzc2lvbkRhdGEudGFza3MuZmluZCh0YXNrID0+IHRhc2suaWQgPT0gaWQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHNlc3Npb25EYXRhLnRhc2tzLmluZGV4T2YodGFzayk7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpbmQgdGFzayBvZiBpZCAke2lkfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlc3Npb25EYXRhLnRhc2tzW2luZGV4XS5jaGVja2VkID0gIXNlc3Npb25EYXRhLnRhc2tzW2luZGV4XS5jaGVja2VkO1xuICAgICAgICBzYXZlVG9Mb2NhbCgpO1xuICAgICAgICByZXR1cm4gc2Vzc2lvbkRhdGEudGFza3NbaW5kZXhdLmNoZWNrZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgcmVtb3ZlVGFzayA9IChpZCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrID0gc2Vzc2lvbkRhdGEudGFza3MuZmluZCh0YXNrID0+IHRhc2suaWQgPT0gaWQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHNlc3Npb25EYXRhLnRhc2tzLmluZGV4T2YodGFzayk7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpbmQgdGFzayBvZiBpZCAke2lkfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlc3Npb25EYXRhLnRhc2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHNhdmVUb0xvY2FsKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBSZW1vdmVkIHRhc2sgZW50cnkgaWQgJHtpZH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNldERhdGEgPSAoKSA9PiB7XG4gICAgICAgIHNlc3Npb25EYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpbml0aWFsRGF0YSkpO1xuICAgICAgICBzYXZlVG9Mb2NhbCgpO1xuICAgICAgICByZXR1cm4gZ2V0RGF0YUNvcHkoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHsgXG4gICAgICAgIGxvYWRVc2VyRGF0YSxcbiAgICAgICAgZ2V0RGF0YUNvcHksXG4gICAgICAgIGdldFRhc2tCeUlkLFxuICAgICAgICBhZGROZXdUYWcsXG4gICAgICAgIGFkZE5ld1Rhc2ssXG4gICAgICAgIHRvZ2dsZUNoZWNrT2ZmVGFzayxcbiAgICAgICAgcmVtb3ZlVGFzayxcbiAgICAgICAgcmVzZXREYXRhXG4gICAgfSBcbn0pKCk7XG5leHBvcnQgZGVmYXVsdCBtb2RlbDsiLCJpbXBvcnQgZG9tTWFuYWdlciBmcm9tIFwiLi9kb21NYW5hZ2VyLmpzXCI7XG4vKlxuVmlldyBtb2R1bGVcbi0gSGFuZGxlcyBET00gdXBkYXRpbmcgdGFza3Ncbi0gUmV0dXJucyByZXF1ZXN0cyBmb3IgRE9NIGluZm9ybWF0aW9uXG4qL1xuY29uc3QgdmlldyA9ICgoKT0+e1xuICAgIC8vIGNhY2hlZCBlbGVtZW50c1xuICAgIGNvbnN0IHRhc2tFbnRyeUxpc3RFbGVtZW50ID0gZG9tTWFuYWdlci5xdWVyeShcIi50YXNrLWxpc3RcIik7XG4gICAgY29uc3QgdGFnTGlzdEVsZW1lbnQgPSBkb21NYW5hZ2VyLnF1ZXJ5KFwibmF2IHVsLnRhZy1saXN0XCIpO1xuICAgIGNvbnN0IHRhZ01vZGFsRWxlbWVudCA9IGRvbU1hbmFnZXIucXVlcnkoXCIudGFnLW1vZGFsLXdyYXBwZXJcIik7XG4gICAgY29uc3QgdGFza0NyZWF0aW9uRWxlbWVudCA9IGRvbU1hbmFnZXIucXVlcnkoXCIudGFzay1jcmVhdGlvblwiKTtcbiAgICBjb25zdCB0YXNrRHJvcGRvd25FbGVtZW50ID0gZG9tTWFuYWdlci5xdWVyeShcIi50YWctZ3JvdXAgdWxcIik7XG4gICAgY29uc3QgdGFza01vZGFsRWxlbWVudCA9IGRvbU1hbmFnZXIucXVlcnkoXCIudGFzay1tb2RhbC13cmFwcGVyXCIpO1xuICAgIGNvbnN0IHRhc2tNb2RhbEVsZW1lbnRzID0ge1xuICAgICAgICBtb2RhbDogZG9tTWFuYWdlci5xdWVyeShcIi50YXNrLW1vZGFsXCIpLFxuICAgICAgICBjaGVja2VkOiBkb21NYW5hZ2VyLnF1ZXJ5KFwiLnRhc2stbW9kYWwtd3JhcHBlciAuY2hlY2tlZFwiKSxcbiAgICAgICAgdGl0bGU6IGRvbU1hbmFnZXIucXVlcnkoXCIudGFzay1tb2RhbC13cmFwcGVyIC50aXRsZVwiKSxcbiAgICAgICAgZGVzY3JpcHRpb246IGRvbU1hbmFnZXIucXVlcnkoXCIudGFzay1tb2RhbC13cmFwcGVyIC5kZXNjcmlwdGlvblwiKSxcbiAgICAgICAgdGFnczogZG9tTWFuYWdlci5xdWVyeShcIi50YXNrLW1vZGFsLXdyYXBwZXIgLnRhZ3NcIiksXG4gICAgICAgIGRlYWRsaW5lOiBkb21NYW5hZ2VyLnF1ZXJ5KFwiLnRhc2stbW9kYWwtd3JhcHBlciAuZGVhZGxpbmVcIiksXG4gICAgICAgIHByaW9yaXR5OiBkb21NYW5hZ2VyLnF1ZXJ5KFwiLnRhc2stbW9kYWwtd3JhcHBlciAucHJpb3JpdHlcIiksXG4gICAgfVxuICAgIFxuICAgIGxldCB0YWdBZGREaXNhYmxlUmVhc29uID0gXCJcIjtcblxuICAgIC8vIHByaXZhdGUgbWV0aG9kc1xuICAgIGNvbnN0IGNyZWF0ZUNoZWNrbWFya0VsZW1lbnQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbWFya0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBjb25zdCB1bmNoZWNrZWRTVkcgPSBkb21NYW5hZ2VyLmNyZWF0ZVNWR0VsZW1lbnQoe3BhdGg6XCJNMTIsMjBBOCw4IDAgMCwxIDQsMTJBOCw4IDAgMCwxIDEyLDRBOCw4IDAgMCwxIDIwLDEyQTgsOCAwIDAsMSAxMiwyME0xMiwyQTEwLDEwIDAgMCwwIDIsMTJBMTAsMTAgMCAwLDAgMTIsMjJBMTAsMTAgMCAwLDAgMjIsMTJBMTAsMTAgMCAwLDAgMTIsMlpcIn0pO1xuICAgICAgICBjb25zdCBjaGVja2VkU1ZHID0gZG9tTWFuYWdlci5jcmVhdGVTVkdFbGVtZW50KHtwYXRoOlwiTTEyIDJDNi41IDIgMiA2LjUgMiAxMlM2LjUgMjIgMTIgMjIgMjIgMTcuNSAyMiAxMiAxNy41IDIgMTIgMk0xMiAyMEM3LjU5IDIwIDQgMTYuNDEgNCAxMlM3LjU5IDQgMTIgNCAyMCA3LjU5IDIwIDEyIDE2LjQxIDIwIDEyIDIwTTE2LjU5IDcuNThMMTAgMTQuMTdMNy40MSAxMS41OUw2IDEzTDEwIDE3TDE4IDlMMTYuNTkgNy41OFpcIn0pO1xuICAgICAgICBjaGVja21hcmtFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWNoZWNrXCIpO1xuICAgICAgICBjaGVja2VkU1ZHLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICAgIGNoZWNrbWFya0VsZW1lbnQuYXBwZW5kQ2hpbGQodW5jaGVja2VkU1ZHKTtcbiAgICAgICAgY2hlY2ttYXJrRWxlbWVudC5hcHBlbmRDaGlsZChjaGVja2VkU1ZHKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbWFya0VsZW1lbnQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZVRhZ0VudHJ5ID0gdGFnID0+IHtcbiAgICAgICAgY29uc3QgdGFnRW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIGNvbnN0IHRhZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgY29uc3QgY29sb3JJY29uID0gZG9tTWFuYWdlci5jcmVhdGVTVkdFbGVtZW50KHtwYXRoOlwiTTEyLDJBMTAsMTAgMCAwLDAgMiwxMkExMCwxMCAwIDAsMCAxMiwyMkExMCwxMCAwIDAsMCAyMiwxMkExMCwxMCAwIDAsMCAxMiwyWlwifSk7XG4gICAgICAgIHRhZ0Rpdi5jbGFzc0xpc3QuYWRkKFwidGFnXCIpO1xuICAgICAgICB0YWdEaXYuY2xhc3NMaXN0LmFkZChcImljb25cIik7XG4gICAgICAgIHRhZ05hbWUudGV4dENvbnRlbnQgPSB0YWcubmFtZTtcbiAgICAgICAgdGFnRGl2LmFwcGVuZENoaWxkKGNvbG9ySWNvbik7XG4gICAgICAgIHRhZ0Rpdi5hcHBlbmRDaGlsZCh0YWdOYW1lKTtcbiAgICAgICAgdGFnRW50cnkuYXBwZW5kQ2hpbGQodGFnRGl2KTtcbiAgICAgICAgcmV0dXJuIHRhZ0VudHJ5O1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZVRhc2tFbnRyeSA9IHRhc2sgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCB0YXNrSW5mb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IGNoZWNrbWFyayA9IGNyZWF0ZUNoZWNrbWFya0VsZW1lbnQoKTtcbiAgICAgICAgdGFza0VudHJ5LmRhdGFzZXQuaWQgPSB0YXNrLmlkO1xuICAgICAgICB0YXNrRW50cnkuc3R5bGUgPSBcIm1hcmdpbjogMnJlbTtcIjtcbiAgICAgICAgdGFza0VudHJ5LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWVudHJ5XCIpO1xuICAgICAgICBzd2FwQ2hlY2ttYXJrRGlzcGxheShjaGVja21hcmssIHRhc2suY2hlY2tlZCk7XG4gICAgICAgIHRhc2tFbnRyeS5hcHBlbmRDaGlsZChjaGVja21hcmspO1xuICAgICAgICB0YXNrSW5mb0Rpdi5zdHlsZSA9IFwiZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIDZyZW0gNXJlbTsgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAzcmVtIGF1dG8gYXV0bzsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIjtcbiAgICAgICAgLy8gYWRkIG90aGVyIGZpZWxkcyBvZiB0YXNrXG4gICAgICAgIGNvbnN0IG1ha2VGaWVsZCA9ICh0eXBlLCBjbGFzc05hbWUsIHN0eWxlLCB0ZXh0KT0+e1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHRhc2tJbmZvRGl2LmFwcGVuZENoaWxkKG1ha2VGaWVsZChcInBcIiwgXCJ0aXRsZVwiLCBcImdyaWQtYXJlYTogMS8xLzEvMTsgbWFyZ2luLWxlZnQ6IDFyZW07IGZvbnQtc2l6ZTogMS41cmVtOyBmb250LXdlaWdodDogNjAwO1wiLCB0YXNrLnRpdGxlKSk7XG4gICAgICAgIHRhc2tJbmZvRGl2LmFwcGVuZENoaWxkKG1ha2VGaWVsZChcInBcIiwgXCJkZXNjcmlwdGlvblwiLCBcImdyaWQtYXJlYTogMi8xLzIvLTE7IG1hcmdpbi1sZWZ0OiAxcmVtO1wiLCB0YXNrLmRlc2NyaXB0aW9uKSk7XG4gICAgICAgIHRhc2tJbmZvRGl2LmFwcGVuZENoaWxkKG1ha2VGaWVsZChcInBcIiwgXCJkZWFkbGluZVwiLCBcImdyaWQtYXJlYTogMS8yLzEvMjtcIiwgdGFzay5kZWFkbGluZSkpO1xuICAgICAgICB0YXNrSW5mb0Rpdi5hcHBlbmRDaGlsZChtYWtlRmllbGQoXCJwXCIsIFwicHJpb3JpdHlcIixcImdyaWQtYXJlYTogMS8zLzEvMztcIiwgdGFzay5wcmlvcml0eSkpO1xuICAgICAgICBjb25zdCB0YWdHcm91cCA9IG1ha2VGaWVsZChcImRpdlwiLCBcInRhZy1ncm91cFwiLCBcImdyaWQtYXJlYTogMy8xLzMvLTE7IG1hcmdpbi1sZWZ0OiAxcmVtO1wiLCBcIlwiKTtcbiAgICAgICAgLy8gYWRkIHRhZ3NcbiAgICAgICAgdGFzay50YWdzLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgICAgIHRhZ0dyb3VwLmFwcGVuZENoaWxkKGNyZWF0ZVRhZ0VudHJ5KHRhZykpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGFza0luZm9EaXYuYXBwZW5kQ2hpbGQodGFnR3JvdXApO1xuICAgICAgICB0YXNrRW50cnkuYXBwZW5kQ2hpbGQodGFza0luZm9EaXYpO1xuICAgICAgICByZXR1cm4gdGFza0VudHJ5O1xuICAgIH1cblxuICAgIGNvbnN0IGdldFRhc2tFbnRyeSA9IGlkID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIHRhc2tFbnRyeUxpc3RFbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5kYXRhc2V0LmlkID09IGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlcyBjaGFuZ2luZyB0aGUgY2hlY2ttYXJrIGRpc3BsYXlcbiAgICBjb25zdCBzd2FwQ2hlY2ttYXJrRGlzcGxheSA9IChjaGVja21hcmtEaXYsIGlzQ2hlY2tlZCkgPT4ge1xuICAgICAgICBkb21NYW5hZ2VyLnNldFZpc2libGUoY2hlY2ttYXJrRGl2LmNoaWxkcmVuWzBdLCAhaXNDaGVja2VkKTtcbiAgICAgICAgZG9tTWFuYWdlci5zZXRWaXNpYmxlKGNoZWNrbWFya0Rpdi5jaGlsZHJlblsxXSwgaXNDaGVja2VkKTtcbiAgICB9XG5cblxuICAgIC8vIHB1YmxpYyBtZXRob2RzXG4gICAgY29uc3QgcXVlcnlTZWxlY3RlZCA9IChzZWxlY3RvcnMpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JDb3VudCA9IHNlbGVjdG9ycy5sZW5ndGg7XG4gICAgICAgIGxldCBwID0gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHNlbGVjdG9yQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgcCA9IHAudGhlbigoZWxlbWVudHMpPT57cmV0dXJuIGVsZW1lbnRzLmNvbmNhdChkb21NYW5hZ2VyLnF1ZXJ5KHNlbGVjdG9yc1tpXSkpfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgY29uc3QgYWRkTmV3VGFnID0gKHRhZywgY2xpY2tIYW5kbGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhZ0VsZW1lbnQgPSBjcmVhdGVUYWdFbnRyeSh0YWcpO1xuICAgICAgICB0YWdMaXN0RWxlbWVudC5hcHBlbmRDaGlsZCh0YWdFbGVtZW50KTtcbiAgICAgICAgdGFnRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tIYW5kbGVyKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWRkTmV3VGFzayA9ICh0YXNrLCBjbGlja0hhbmRsZXIsIGNoZWNrSGFuZGxlcikgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGNyZWF0ZVRhc2tFbnRyeSh0YXNrKTtcbiAgICAgICAgdGFza0VudHJ5TGlzdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGFza0VsZW1lbnQpO1xuICAgICAgICB0YXNrRWxlbWVudC5jaGlsZE5vZGVzWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjaGVja0hhbmRsZXIpO1xuICAgICAgICB0YXNrRWxlbWVudC5jaGlsZE5vZGVzWzFdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0hhbmRsZXIpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlbW92ZVRhc2sgPSAoaWQpID0+IHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGdldFRhc2tFbnRyeShpZClcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDb3VsZG4ndCBmaW5kIG5vZGUgd2l0aCBtYXRjaGluZyBpZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGdlbmVyYXRlU2lkZU1lbnVUYWdzID0gKHRhZ3MsIGhhbmRsZXJPZkNsaWNrSGFuZGxlcikgPT4ge1xuICAgICAgICB0YWdMaXN0RWxlbWVudC5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICAgICAgdGFncy5mb3JFYWNoKHRhZz0+e1xuICAgICAgICAgICAgYWRkTmV3VGFnKHRhZywgaGFuZGxlck9mQ2xpY2tIYW5kbGVyKHRhZykpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBnZW5lcmF0ZUhvbWVWaWV3ID0gKHRhc2tzLCBoYW5kbGVyT2ZDbGlja0hhbmRsZXIsIGhhbmRsZXJPZkNoZWNrSGFuZGxlcikgPT4gIHtcbiAgICAgICAgdGFza0VudHJ5TGlzdEVsZW1lbnQucmVwbGFjZUNoaWxkcmVuKCk7XG4gICAgICAgIHRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICBhZGROZXdUYXNrKHRhc2ssIGhhbmRsZXJPZkNsaWNrSGFuZGxlcih0YXNrKSwgaGFuZGxlck9mQ2hlY2tIYW5kbGVyKHRhc2spKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbG9hZFRhZ3NJblRhc2tDcmVhdGlvbiA9ICh0YWdzKSA9PiB7XG4gICAgICAgIHRhc2tEcm9wZG93bkVsZW1lbnQucmVwbGFjZUNoaWxkcmVuKCk7XG4gICAgICAgIHRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGVsZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwidGFnLWl0ZW1cIik7XG4gICAgICAgICAgICAvLyBzdG9yZSB0YWcgZGF0YSBpbiBkYXRhc2V0XG4gICAgICAgICAgICBsaXN0SXRlbS5kYXRhc2V0Lm5hbWUgPSB0YWcubmFtZTtcbiAgICAgICAgICAgIGxpc3RJdGVtLmRhdGFzZXQuY29sb3IgPSB0YWcuY29sb3I7XG4gICAgICAgICAgICBpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICAgICAgaW5wdXQubmFtZSA9IHRhZy5uYW1lO1xuICAgICAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IHRhZy5uYW1lO1xuICAgICAgICAgICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICAgICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQodGV4dCk7XG4gICAgICAgICAgICB0YXNrRHJvcGRvd25FbGVtZW50LmFwcGVuZChsaXN0SXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGxvYWRUYXNrSW5Nb2RhbCA9ICh0YXNrKSA9PiB7XG4gICAgICAgIC8vIGhpZGUgdGhlIG1vZGFsIGl0c2VsZiB3aGlsZSBsb2FkaW5nXG4gICAgICAgIGRvbU1hbmFnZXIuc2V0VmlzaWJsZSh0YXNrTW9kYWxFbGVtZW50cy5tb2RhbCwgZmFsc2UpO1xuICAgICAgICB0YXNrTW9kYWxFbGVtZW50cy50YWdzLnJlcGxhY2VDaGlsZHJlbigpO1xuICAgICAgICB0YXNrTW9kYWxFbGVtZW50cy5tb2RhbC5kYXRhc2V0LmlkID0gdGFzay5pZDtcbiAgICAgICAgLy8gc2V0IHRleHQgZmllbGRzXG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgaW4gdGFzaykge1xuICAgICAgICAgICAgaWYgKGZpZWxkID09IFwiaWRcIiB8fCBmaWVsZCA9PSBcInRhZ3NcIiB8fCBmaWVsZCA9PSBcImNoZWNrZWRcIikgY29udGludWU7XG4gICAgICAgICAgICB0YXNrTW9kYWxFbGVtZW50c1tmaWVsZF0udGV4dENvbnRlbnQgPSB0YXNrW2ZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgY2hlY2sgaWNvblxuICAgICAgICBzd2FwQ2hlY2ttYXJrRGlzcGxheSh0YXNrTW9kYWxFbGVtZW50cy5jaGVja2VkLCB0YXNrLmNoZWNrZWQpO1xuICAgICAgICAvLyBzZXQgdGFnc1xuICAgICAgICB0YXNrLnRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xuICAgICAgICAgICAgdGFza01vZGFsRWxlbWVudHMudGFncy5hcHBlbmRDaGlsZChjcmVhdGVUYWdFbnRyeSh0YWcpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZGlzcGxheSB0aGUgbW9kYWwgb25jZSBsb2FkZWRcbiAgICAgICAgZG9tTWFuYWdlci5zZXRWaXNpYmxlKHRhc2tNb2RhbEVsZW1lbnRzLm1vZGFsKTtcbiAgICB9XG5cbiAgICBjb25zdCBleHRyYWN0VGFnID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJuZXdUYWdGb3JtXCJdO1xuICAgICAgICByZXR1cm4ge25hbWU6IGZvcm1bXCJuYW1lXCJdLnZhbHVlLCBjb2xvcjogZm9ybVtcImNvbG9yXCJdfVxuICAgIH1cblxuICAgIGNvbnN0IGV4dHJhY3RUYXNrRnJvbUNyZWF0aW9uID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrID0ge2lkOiAwLCBjaGVja2VkOiBmYWxzZX07XG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcIm5ld1Rhc2tGb3JtXCJdO1xuICAgICAgICBjb25zdCBmaWVsZHMgPSBbXCJ0aXRsZVwiLCBcImRlc2NyaXB0aW9uXCIsIFwiZGVhZGxpbmVcIiwgXCJwcmlvcml0eVwiXTtcbiAgICAgICAgZmllbGRzLmZvckVhY2goZmllbGQgPT4gdGFza1tmaWVsZF0gPSBmb3JtW2ZpZWxkXS52YWx1ZSk7XG4gICAgICAgIGRvbU1hbmFnZXIucXVlcnlBbGwoXCIudGFzay1ncm91cFwiKVxuICAgICAgICB0YXNrLnRhZ3MgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIHRhc2tEcm9wZG93bkVsZW1lbnQuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChub2RlLmNoaWxkcmVuWzBdLmNoZWNrZWQpIHRhc2sudGFncy5wdXNoKHtuYW1lOiBub2RlLmRhdGFzZXQubmFtZSwgY29sb3I6IG5vZGUuZGF0YXNldC5jb2xvcn0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXNrO1xuICAgIH1cblxuICAgIGNvbnN0IGV4dHJhY3RJZE9mQ3VycmVudFRhc2sgPSAoKSA9PiB0YXNrTW9kYWxFbGVtZW50cy5tb2RhbC5kYXRhc2V0LmlkO1xuXG4gICAgY29uc3QgY2hlY2tPZmZUYXNrID0gKGlkLCBjaGVja2VkKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBnZXRUYXNrRW50cnkoaWQpXG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ291bGRuJ3QgZmluZCBub2RlIHdpdGggbWF0Y2hpbmcgaWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dhcENoZWNrbWFya0Rpc3BsYXkobm9kZS5jaGlsZE5vZGVzWzBdLCBjaGVja2VkKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcGVuVGFnTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgIGRvbU1hbmFnZXIuc2V0VmlzaWJsZSh0YWdNb2RhbEVsZW1lbnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGNsb3NlVGFnTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgIGRvbU1hbmFnZXIuc2V0VmlzaWJsZSh0YWdNb2RhbEVsZW1lbnQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcGVuVGFza0NyZWF0aW9uID0gKCk9PiB7XG4gICAgICAgIGRvbU1hbmFnZXIuc2V0VmlzaWJsZSh0YXNrQ3JlYXRpb25FbGVtZW50KTtcbiAgICB9XG4gICAgY29uc3QgY2xvc2VUYXNrQ3JlYXRpb24gPSAoKT0+IHtcbiAgICAgICAgZG9tTWFuYWdlci5zZXRWaXNpYmxlKHRhc2tDcmVhdGlvbkVsZW1lbnQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBjb25zdCB0b2dnbGVUYXNrTGlzdERyb3Bkb3duID0gKCkgPT4ge1xuICAgICAgICBkb21NYW5hZ2VyLnNldFZpc2libGUodGFza0Ryb3Bkb3duRWxlbWVudCwgdGFza0Ryb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpO1xuICAgIH1cblxuICAgIGNvbnN0IG9wZW5UYXNrTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgIGRvbU1hbmFnZXIuc2V0VmlzaWJsZSh0YXNrTW9kYWxFbGVtZW50KTtcbiAgICB9XG5cbiAgICBjb25zdCBjbG9zZVRhc2tNb2RhbCA9ICgpID0+IHtcbiAgICAgICAgZG9tTWFuYWdlci5zZXRWaXNpYmxlKHRhc2tNb2RhbEVsZW1lbnQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBcbiAgICAgICAgcXVlcnlTZWxlY3RlZCwgXG4gICAgICAgIGFkZE5ld1RhZyxcbiAgICAgICAgYWRkTmV3VGFzayxcbiAgICAgICAgcmVtb3ZlVGFzayxcbiAgICAgICAgZ2VuZXJhdGVTaWRlTWVudVRhZ3MsIFxuICAgICAgICBnZW5lcmF0ZUhvbWVWaWV3LFxuICAgICAgICBleHRyYWN0VGFnLFxuICAgICAgICBleHRyYWN0SWRPZkN1cnJlbnRUYXNrLFxuICAgICAgICBleHRyYWN0VGFza0Zyb21DcmVhdGlvbixcbiAgICAgICAgY2hlY2tPZmZUYXNrLFxuICAgICAgICBsb2FkVGFnc0luVGFza0NyZWF0aW9uLFxuICAgICAgICBsb2FkVGFza0luTW9kYWwsXG4gICAgICAgIHRvZ2dsZVRhc2tMaXN0RHJvcGRvd24sXG4gICAgICAgIG9wZW5UYWdNb2RhbCxcbiAgICAgICAgY2xvc2VUYWdNb2RhbCxcbiAgICAgICAgb3BlblRhc2tDcmVhdGlvbixcbiAgICAgICAgY2xvc2VUYXNrQ3JlYXRpb24sXG4gICAgICAgIG9wZW5UYXNrTW9kYWwsXG4gICAgICAgIGNsb3NlVGFza01vZGFsXG4gICAgfVxuICAgIFxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgdmlldzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgc3R5bGUgZnJvbSBcIi4vc3R5bGUuY3NzXCI7XG5pbXBvcnQgbW9kZWwgZnJvbSBcIi4vbW9kZWwuanNcIjtcbmltcG9ydCB2aWV3IGZyb20gXCIuL3ZpZXcuanNcIjtcblxuLy8gbWFpblxuY29uc3QgdXNlckRhdGEgPSBtb2RlbC5sb2FkVXNlckRhdGEoKTtcblxuLy8gZHluYW1pYyBjbGljayBldmVudHNcbmNvbnN0IHRhZ0VudHJ5SGFuZGxlciA9ICh0YWcpID0+ICgoKT0+e30pO1xuY29uc3QgdGFza0VudHJ5SGFuZGxlciA9ICh0YXNrKT0+KCgpPT57YnV0dG9uRXZlbnQub3BlblRhc2sodGFzayl9KTtcbmNvbnN0IHRhc2tDaGVja0hhbmRsZXIgPSAodGFzayk9PigoKT0+e1xuICAgIHZpZXcuY2hlY2tPZmZUYXNrKHRhc2suaWQsIG1vZGVsLnRvZ2dsZUNoZWNrT2ZmVGFzayh0YXNrLmlkKSk7XG59KVxuXG52aWV3LmdlbmVyYXRlU2lkZU1lbnVUYWdzKHVzZXJEYXRhLnRhZ3MsIHRhZ0VudHJ5SGFuZGxlcik7XG52aWV3LmdlbmVyYXRlSG9tZVZpZXcodXNlckRhdGEudGFza3MsIHRhc2tFbnRyeUhhbmRsZXIsIHRhc2tDaGVja0hhbmRsZXIpO1xuXG5jb25zdCBidXR0b25FdmVudCA9IHtcbiAgICBnb1RvSG9tZTogKCk9PnsgXG4gICAgICAgIHZpZXcuZ2VuZXJhdGVIb21lVmlldyhtb2RlbC5nZXREYXRhQ29weSgpLnRhc2tzLCB0YXNrRW50cnlIYW5kbGVyLCB0YXNrQ2hlY2tIYW5kbGVyKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJMb2FkIGhvbWUgdmlldy5cIilcbiAgICB9LFxuICAgIGFkZFRhZzogKCk9PntcbiAgICAgICAgdmlldy5vcGVuVGFnTW9kYWwoKTtcbiAgICB9LFxuICAgIGNsb3NlVGFnTW9kYWw6ICgpPT57XG4gICAgICAgIHZpZXcuY2xvc2VUYWdNb2RhbCgpO1xuICAgIH0sXG4gICAgc3VibWl0VGFnOiAoKT0+e1xuICAgICAgICBjb25zdCB0YWcgPSBtb2RlbC5hZGROZXdUYWcodmlldy5leHRyYWN0VGFnKCkpO1xuICAgICAgICB2aWV3LmFkZE5ld1RhZyh0YWcsICgpPT57fSk7XG4gICAgICAgIHZpZXcuY2xvc2VUYWdNb2RhbCgpO1xuICAgIH0sXG4gICAgY2xlYXJBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUobW9kZWwucmVzZXREYXRhKCkpXG4gICAgICAgIC50aGVuKCBuZXdEYXRhID0+IHtcbiAgICAgICAgICAgIHZpZXcuZ2VuZXJhdGVTaWRlTWVudVRhZ3MobmV3RGF0YS50YWdzLCB0YWdFbnRyeUhhbmRsZXIpO1xuICAgICAgICAgICAgdmlldy5nZW5lcmF0ZUhvbWVWaWV3KG5ld0RhdGEudGFza3MsIHRhc2tFbnRyeUhhbmRsZXIsIHRhc2tDaGVja0hhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIG5ld1Rhc2s6ICgpPT57XG4gICAgICAgIHZpZXcubG9hZFRhZ3NJblRhc2tDcmVhdGlvbihtb2RlbC5nZXREYXRhQ29weSgpLnRhZ3MpO1xuICAgICAgICB2aWV3Lm9wZW5UYXNrQ3JlYXRpb24oKTtcbiAgICB9LFxuICAgIHRvZ2dsZVNlbGVjdFRhZzogKCkgPT4ge1xuICAgICAgICB2aWV3LnRvZ2dsZVRhc2tMaXN0RHJvcGRvd24oKTtcbiAgICB9LFxuICAgIGNsb3NlVGFza0NyZWF0aW9uOiAoKT0+e1xuICAgICAgICB2aWV3LmNsb3NlVGFza0NyZWF0aW9uKCk7XG4gICAgfSxcbiAgICBjcmVhdGVUYXNrOiAoKT0+e1xuICAgICAgICBjb25zdCB0YXNrID0gbW9kZWwuYWRkTmV3VGFzayh2aWV3LmV4dHJhY3RUYXNrRnJvbUNyZWF0aW9uKCkpO1xuICAgICAgICB2aWV3LmFkZE5ld1Rhc2sodGFzaywgdGFza0VudHJ5SGFuZGxlcih0YXNrKSwgdGFza0NoZWNrSGFuZGxlcih0YXNrKSk7XG4gICAgICAgIHZpZXcuY2xvc2VUYXNrQ3JlYXRpb24oKTtcbiAgICB9LFxuICAgIG9wZW5UYXNrOiBmdW5jdGlvbih0YXNrKSB7XG4gICAgICAgIHZpZXcub3BlblRhc2tNb2RhbCh0YXNrKTtcbiAgICAgICAgdmlldy5sb2FkVGFza0luTW9kYWwodGFzayk7XG4gICAgfSxcbiAgICB1cGRhdGVUYXNrOiAoKT0+IHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBuZXdUYWdJbmZvID0gdmlldy5nZXRUYXNrRGV0YWlscygpO1xuICAgICAgICBtb2RlbC51cGRhdGVUYWcobmV3VGFnSW5mby5pZCwgbmV3VGFnSW5mbyk7XG4gICAgICAgIHZpZXcuY2xvc2VUYXNrTW9kYWwoKTtcbiAgICB9LFxuICAgIGNsb3NlVGFzazogKCk9PntcbiAgICAgICAgdmlldy5jbG9zZVRhc2tNb2RhbCgpO1xuICAgIH0sXG4gICAgcmVtb3ZlVGFzazogKCk9PntcbiAgICAgICAgY29uc3QgaWQgPSB2aWV3LmV4dHJhY3RJZE9mQ3VycmVudFRhc2soKTtcbiAgICAgICAgbW9kZWwucmVtb3ZlVGFzayhpZCk7XG4gICAgICAgIHZpZXcucmVtb3ZlVGFzayhpZCk7XG4gICAgICAgIHZpZXcuY2xvc2VUYXNrTW9kYWwoKTtcbiAgICAgICAgY29uc29sZS5sb2cobW9kZWwuZ2V0RGF0YUNvcHkoKSk7XG4gICAgfVxufTtcbmNvbnN0IHNlbGVjdG9yVG9FdmVudE1hcCA9IG5ldyBNYXAoW1xuICAgIFtcIi5tZW51LXRpbWUtb3B0aW9ucyBsaTpmaXJzdC1jaGlsZFwiLCBidXR0b25FdmVudC5nb1RvSG9tZV0sXG4gICAgW1wiLnRhZy1hZGRcIiwgYnV0dG9uRXZlbnQuYWRkVGFnXSxcbiAgICBbXCJidXR0b24uZGF0YS1jbGVhclwiLCBidXR0b25FdmVudC5jbGVhckFsbF0sXG4gICAgW1wibWFpbiBidXR0b24uYWRkXCIsIGJ1dHRvbkV2ZW50Lm5ld1Rhc2tdLFxuICAgIFtcIi50YXNrLWNyZWF0aW9uIC50YWctZ3JvdXAgcFwiLCBidXR0b25FdmVudC50b2dnbGVTZWxlY3RUYWddLFxuICAgIFtcIi50YXNrLWNyZWF0aW9uIC5jYW5jZWxcIiwgYnV0dG9uRXZlbnQuY2xvc2VUYXNrQ3JlYXRpb25dLFxuICAgIFtcIi50YXNrLWNyZWF0aW9uIC5zdWJtaXRcIiwgYnV0dG9uRXZlbnQuY3JlYXRlVGFza10sXG4gICAgW1wiLnRhc2stbW9kYWwgYnV0dG9uLmNsb3NlXCIsIGJ1dHRvbkV2ZW50LmNsb3NlVGFza10sXG4gICAgW1wiLnRhc2stbW9kYWwgLnJlbW92ZVwiLCBidXR0b25FdmVudC5yZW1vdmVUYXNrXSxcbiAgICBbXCIudGFnLW1vZGFsIC5jYW5jZWxcIiwgYnV0dG9uRXZlbnQuY2xvc2VUYWdNb2RhbF0sXG4gICAgW1wiLnRhZy1tb2RhbCAuc3VibWl0XCIsIGJ1dHRvbkV2ZW50LnN1Ym1pdFRhZ10sXG4gICAgW1wiLnRhZy1tb2RhbCBidXR0b24uY2xvc2VcIiwgYnV0dG9uRXZlbnQuY2xvc2VUYWdNb2RhbF0sXG5dKTtcblxuLy8gbWFwIGJ1dHRvbiBjbGljayBldmVudCB0byBlYWNoIHN0YXRpYyBidXR0b25cbmNvbnN0IGJ1dHRvblNlbGVjdG9ycyA9IEFycmF5LmZyb20oc2VsZWN0b3JUb0V2ZW50TWFwLCBlbnRyeSA9PiBlbnRyeVswXSk7XG52aWV3LnF1ZXJ5U2VsZWN0ZWQoYnV0dG9uU2VsZWN0b3JzKS50aGVuKGJ1dHRvbkVsZW1lbnRzPT57XG4gICAgZm9yIChsZXQgaT0wOyBpPGJ1dHRvblNlbGVjdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBidXR0b25FbGVtZW50c1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2VsZWN0b3JUb0V2ZW50TWFwLmdldChidXR0b25TZWxlY3RvcnNbaV0pKTtcbiAgICB9XG59KTtcblxuY29uc29sZS5sb2codXNlckRhdGEpOyAvLyBsb2NhbCBkYXRhIGRlYnVnXG5cblxuLypcbkN1cnJlbnQgVE9ETzpcbi0gQ2hlY2svdW5jaGVjayBpbnRlcmFjdGlvbiBvbiBlbnRyeSBhbmQgdGFzayBtb2RhbC4gSW50ZXJhY3Rpb24gaXMgc2F2ZWQgbG9jYWxseS5cblxuRnVuY3Rpb25hbCBUT0RPczpcbi0gQ2xpY2tpbmcgb24gdGhlIHRhc2sgZmllbGQgYWxsb3dzIHlvdSB0byBtb2RpZnkgdGhlIHRhc2tcbi0gVXBkYXRpbmcgYSBmaWVsZCBpbiB0aGUgdGFzayBtb2RhbCB1cGRhdGVzIHRoZSB0YXNrIG9uIHRoZSBob21lIHBhZ2Vcbi0gVGFzayBpcyBzYXZlZCB0byBsb2NhbCB1cG9uIGNyZWF0aW5nIG9uZSBhbmQgdXBkYXRpbmcgYSBmaWVsZFxuXG5TdHlsZSBUT0RPczpcbi0gRGlzcGxheSBwZW5jaWwgaWNvbiBvbiBob3ZlciBvdmVyIGZpZWxkXG4tIE1ha2UgdGhpcyByZXNwb25zaXZlIGZvciBuYXJyb3cgd2luZG93c1xuLSBGaXggY2lyY2xlIGljb24gb24gdGFnc1xuKi8iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJxdWVyeSIsInNlbGVjdG9yIiwicXVlcnlBbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3JlYXRlU1ZHRWxlbWVudCIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsInBhdGgiLCJzZXRWaXNpYmxlIiwidmlzaWJsZSIsImVsZW1lbnRDbGFzc0xpc3QiLCJxdWVyeUlmU2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJtb3ZlRG93biIsInNldENsaWNrIiwiZWxlbWVudFNlbGVjdG9yIiwiY2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkRW50cnlPZlRlbXBsYXRlIiwidGVtcGxhdGVTZWxlY3RvciIsImNvbnRhaW5lclNlbGVjdG9yIiwiZW50cnkiLCJjbG9uZU5vZGUiLCJjb250YWluZXIiLCJhZGRUZW1wb3JhcnlJbnB1dCIsImlucHV0U3R5bGUiLCJpbnB1dCIsInNlbGVjdCIsImNvbnNvbGUiLCJsb2ciLCJzd2FwSW5wdXRXaXRoVGV4dCIsInRleHRTZWxlY3RvciIsInJlbW92ZUlucHV0IiwidGV4dCIsInRleHRDb250ZW50IiwidmFsdWUiLCJlbGVtZW50RXhpc3RzIiwic2F2ZSIsInRhcmdldERhdGEiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwid2FybiIsImNsZWFyIiwiaGFzRXhpc3RpbmdEYXRhIiwiZ2V0RGF0YUNvcHkiLCJwYXJzZSIsImluaXRpYWxEYXRhIiwidmVyc2lvbiIsInVzZXIiLCJ0YXNrcyIsImNoZWNrZWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZGVhZGxpbmUiLCJwcmlvcml0eSIsInRhZ3MiLCJuYW1lIiwiY29sb3IiLCJ0YWdDb2xvcnMiLCJzZXNzaW9uRGF0YSIsInNhdmVUb0xvY2FsIiwibG9hZFVzZXJEYXRhIiwicHJldmlvdXNEYXRhIiwiZ2V0VGFza0J5SWQiLCJmaW5kIiwidGFzayIsImFkZE5ld1RhZyIsInRhZyIsImVycm9yIiwiYWRkTmV3VGFzayIsInRvZ2dsZUNoZWNrT2ZmVGFzayIsImluZGV4T2YiLCJyZW1vdmVUYXNrIiwicmVzZXREYXRhIiwidGFza0VudHJ5TGlzdEVsZW1lbnQiLCJ0YWdMaXN0RWxlbWVudCIsInRhZ01vZGFsRWxlbWVudCIsInRhc2tDcmVhdGlvbkVsZW1lbnQiLCJ0YXNrRHJvcGRvd25FbGVtZW50IiwidGFza01vZGFsRWxlbWVudCIsInRhc2tNb2RhbEVsZW1lbnRzIiwibW9kYWwiLCJjcmVhdGVUYWdFbnRyeSIsInRhZ0VudHJ5IiwidGFnRGl2IiwidGFnTmFtZSIsImNvbG9ySWNvbiIsImdldFRhc2tFbnRyeSIsIm5vZGUiLCJjaGlsZHJlbiIsImRhdGFzZXQiLCJzd2FwQ2hlY2ttYXJrRGlzcGxheSIsImNoZWNrbWFya0RpdiIsImlzQ2hlY2tlZCIsImNsaWNrSGFuZGxlciIsInRhZ0VsZW1lbnQiLCJjaGVja0hhbmRsZXIiLCJ0YXNrRWxlbWVudCIsInRhc2tFbnRyeSIsInRhc2tJbmZvRGl2IiwiY2hlY2ttYXJrIiwiY2hlY2ttYXJrRWxlbWVudCIsInVuY2hlY2tlZFNWRyIsImNoZWNrZWRTVkciLCJjcmVhdGVDaGVja21hcmtFbGVtZW50IiwibWFrZUZpZWxkIiwidHlwZSIsImNsYXNzTmFtZSIsInRhZ0dyb3VwIiwiZm9yRWFjaCIsImNyZWF0ZVRhc2tFbnRyeSIsImNoaWxkTm9kZXMiLCJxdWVyeVNlbGVjdGVkIiwic2VsZWN0b3JzIiwic2VsZWN0b3JDb3VudCIsInAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJlbGVtZW50cyIsImdlbmVyYXRlU2lkZU1lbnVUYWdzIiwiaGFuZGxlck9mQ2xpY2tIYW5kbGVyIiwicmVwbGFjZUNoaWxkcmVuIiwiZ2VuZXJhdGVIb21lVmlldyIsImhhbmRsZXJPZkNoZWNrSGFuZGxlciIsImV4dHJhY3RUYWciLCJmb3JtIiwiZm9ybXMiLCJleHRyYWN0SWRPZkN1cnJlbnRUYXNrIiwiZXh0cmFjdFRhc2tGcm9tQ3JlYXRpb24iLCJmaWVsZCIsImNoZWNrT2ZmVGFzayIsImxvYWRUYWdzSW5UYXNrQ3JlYXRpb24iLCJsaXN0SXRlbSIsImFwcGVuZCIsImxvYWRUYXNrSW5Nb2RhbCIsInRvZ2dsZVRhc2tMaXN0RHJvcGRvd24iLCJjb250YWlucyIsIm9wZW5UYWdNb2RhbCIsImNsb3NlVGFnTW9kYWwiLCJvcGVuVGFza0NyZWF0aW9uIiwiY2xvc2VUYXNrQ3JlYXRpb24iLCJvcGVuVGFza01vZGFsIiwiY2xvc2VUYXNrTW9kYWwiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwidXNlckRhdGEiLCJtb2RlbCIsInRhZ0VudHJ5SGFuZGxlciIsInRhc2tFbnRyeUhhbmRsZXIiLCJidXR0b25FdmVudCIsIm9wZW5UYXNrIiwidGFza0NoZWNrSGFuZGxlciIsInZpZXciLCJnb1RvSG9tZSIsImFkZFRhZyIsInN1Ym1pdFRhZyIsImNsZWFyQWxsIiwibmV3RGF0YSIsIm5ld1Rhc2siLCJ0b2dnbGVTZWxlY3RUYWciLCJjcmVhdGVUYXNrIiwidXBkYXRlVGFzayIsImNsb3NlVGFzayIsInNlbGVjdG9yVG9FdmVudE1hcCIsIk1hcCIsImJ1dHRvblNlbGVjdG9ycyIsIkFycmF5IiwiZnJvbSIsImJ1dHRvbkVsZW1lbnRzIl0sInNvdXJjZVJvb3QiOiIifQ==